{"id":"claude-agents-07e","title":"Fix race conditions in file operations","description":"Serialize file modifications with file-level locks. Implement file versioning/etags to detect concurrent changes. Add conflict detection when multiple agents modify same file. Document file modification policy (which agent can write, ordering).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:01.278717101+13:00","updated_at":"2025-12-09T14:18:11.774900637+13:00","closed_at":"2025-12-09T14:18:11.774900637+13:00"}
{"id":"claude-agents-080","title":"Document pre-commit CI checklist for complex changes","description":"Add guidance: For changes affecting pyproject.toml or dependencies, run 'poetry lock' and 'poetry run pytest' locally before pushing. Document in CODING_RULES.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T10:19:27.74832095+13:00","updated_at":"2025-12-04T10:21:54.318344265+13:00","closed_at":"2025-12-04T10:21:54.318344265+13:00"}
{"id":"claude-agents-0a2","title":"Implement release workflow abstraction for provider system","description":"Subtask of claude-agents-ewy\n\nCreate a generic Release agent/module that abstracts away CI/registry specifics:\n\n1. Create src/devloop/release/release_manager.py\n   - ReleaseManager class that uses providers\n   - Methods: pre_release_checks(), publish(), tag_release()\n   - Works with any CI provider and any registry provider\n\n2. Update AGENTS.md release process to use provider abstraction\n   - Remove GitHub-specific instructions\n   - Add generic flow that works with any CI/registry\n\n3. Update scripts/bump-version.py if needed\n   - Ensure it's provider-agnostic\n\n4. Documentation\n   - Update PROVIDER_SYSTEM.md with release workflow example\n   - Add example for PyPI + GitHub Actions\n   - Add example for PyPI + GitLab CI\n\nTests:\n- Mock providers for release workflow\n- Test pre-release checks with different providers\n- Test publishing with different registries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T22:28:39.485945776+13:00","updated_at":"2025-12-10T22:56:54.927195578+13:00","closed_at":"2025-12-10T22:56:54.927195578+13:00"}
{"id":"claude-agents-0ek","title":"Fix 3 failing marketplace HTTP server tests","description":"Three tests in test_marketplace_http_server.py are failing with KeyError on 'success' field in API responses:\n\n1. test_register_agent_invalid - expects response.json()['success'] == False when registering invalid agent (empty name)\n2. test_get_nonexistent_agent - expects error response to have 'success' field\n3. test_get_popular_agents - expects response to have 'success' field\n\nRoot cause: The HTTP server error responses don't include a 'success' field in their JSON response format, but the tests expect it.\n\nFix needed: Either:\n- Update the HTTP server to include 'success: false' in error responses\n- Update the tests to match the actual API response format\n\nCurrent: 935/938 tests passing (99.7%)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T22:08:39.809254248+13:00","updated_at":"2025-12-15T00:04:25.50840834+13:00","closed_at":"2025-12-15T00:04:25.50840834+13:00"}
{"id":"claude-agents-0fh","title":"Fix failing tests in test_event_replay.py","description":"8 test failures detected in test_event_replay.py by background test-runner agent. Blocking issue that needs immediate resolution.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T17:38:06.160886536+13:00","updated_at":"2025-12-13T17:59:00.705121326+13:00","closed_at":"2025-12-13T17:59:00.705121326+13:00"}
{"id":"claude-agents-0v3","title":"Add pre-commit hook to detect poetry.lock desync","description":"Prevent commits when pyproject.toml changes without updating poetry.lock. This would have caught the extras section issue immediately.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T10:19:21.373432993+13:00","updated_at":"2025-12-04T10:21:22.601627903+13:00","closed_at":"2025-12-04T10:21:22.601627903+13:00"}
{"id":"claude-agents-16z","title":"Refactor skipped auto-fix security tests","description":"Six integration tests in tests/unit/core/test_auto_fix_security.py are skipped and need refactoring.\n\n## Skipped Tests\n- test_creates_backup_before_fix (line 91)\n- test_rollback_functionality (line 150)\n- test_prevents_duplicate_fixes (line 208)\n- test_tracks_applied_fixes (line 240)\n- test_rollback_all_session (line 270)\n- test_metadata_in_backup (line 330)\n\n## Issue\nThese tests depend on internal implementation details of AutoFix that have changed. They mock internal methods like _execute_fix and directly access internal state (_backup_manager, applied fixes tracking).\n\n## Solution\n1. Review current AutoFix implementation to understand actual public API\n2. Rewrite tests to use public interfaces only\n3. Mock at appropriate boundaries (file I/O, agent execution)\n4. Focus on behavior verification rather than internal state\n5. Remove @pytest.mark.skip annotations once refactored\n\n## Success Criteria\n- All 6 tests pass without skip markers\n- Tests verify behavior via public API only\n- Tests maintain same coverage as before\n","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-11T22:08:15.381179265+13:00","updated_at":"2025-12-11T22:15:47.008767705+13:00"}
{"id":"claude-agents-1eq","title":"Configure package metadata for PyPI","description":"Update pyproject.toml with all required PyPI fields: description, long description, keywords, classifiers, urls, author info, license","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:44:10.550105199+13:00","updated_at":"2025-11-30T13:45:13.834929242+13:00","closed_at":"2025-11-30T13:45:13.834929242+13:00","dependencies":[{"issue_id":"claude-agents-1eq","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.191068668+13:00","created_by":"daemon"}]}
{"id":"claude-agents-1eu","title":"Create scripts/ directory structure for test scripts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T21:10:59.552951273+13:00","updated_at":"2025-12-01T21:12:05.057677778+13:00","closed_at":"2025-12-01T21:12:05.057677778+13:00"}
{"id":"claude-agents-1i0","title":"Phase 1: Implement core Claude Code hooks (SessionStart, Stop, PreToolUse)","description":"Implement automatic verification hooks to align Claude Code with Git/Amp patterns.\n\nWhat: Create 3 hook scripts + install mechanism\n- claude-session-start: Pre-load findings on session startup (~20 lines)\n- claude-stop: Collect findings when Claude finishes (~30 lines)  \n- claude-file-protection: Block writes to .beads/, .devloop/ (~60 lines)\n- install-claude-hooks: Register hooks to ~/.claude/settings.json\n\nIntegration:\n- Update src/devloop/cli/main.py init command to create/offer hook installation\n- Create .agents/hooks/ directory structure\n- Make scripts executable (chmod 0o755)\n\nBenefits:\n‚úÖ Auto-load findings on startup (SessionStart)\n‚úÖ Auto-collect findings on completion (Stop)\n‚úÖ File protection prevents data loss (PreToolUse)\n‚úÖ Aligns with Amp post-task hook pattern\n‚úÖ Non-blocking (Claude continues if hooks fail)\n\nTesting:\n- Unit tests for each hook script\n- Integration testing with Claude Code\n- Fallback testing (what if hooks fail)\n- Edge case testing (timeouts, missing dependencies)\n\nDocumentation:\n- Update AMP_ONBOARDING.md with hooks section\n- Create .agents/hooks/README.md\n- Update main README.md\n\nTime estimate: ~2 hours\nRisk: Low (non-blocking, additive)\nEffort: 3-4 hook scripts + integration","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-09T22:33:57.556361266+13:00","updated_at":"2025-12-09T22:43:42.500976972+13:00","closed_at":"2025-12-09T22:43:42.500976972+13:00","dependencies":[{"issue_id":"claude-agents-1i0","depends_on_id":"claude-agents-agt","type":"blocks","created_at":"2025-12-09T22:34:14.568481678+13:00","created_by":"daemon"},{"issue_id":"claude-agents-1i0","depends_on_id":"claude-agents-g5o","type":"discovered-from","created_at":"2025-12-09T22:34:14.698079361+13:00","created_by":"daemon"}]}
{"id":"claude-agents-1ia","title":"Add metrics and monitoring exports","description":"Export Prometheus metrics (execution time, error rates, resource usage). Add dashboarding guidance (Grafana). Document what to monitor. Add SLO recommendations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:38.019310852+13:00","updated_at":"2025-12-13T18:05:21.30320663+13:00","closed_at":"2025-12-13T18:05:21.30320663+13:00"}
{"id":"claude-agents-1mu","title":"Build and test distribution packages","description":"Set up poetry build, create source and wheel distributions, test installation from local wheel","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:44:16.965824356+13:00","updated_at":"2025-11-30T13:46:58.348705643+13:00","closed_at":"2025-11-30T13:46:58.348705643+13:00","dependencies":[{"issue_id":"claude-agents-1mu","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.276011731+13:00","created_by":"daemon"}]}
{"id":"claude-agents-1tsn","title":"Fix flaky performance tests","description":"Two performance tests are failing intermittently:\n\n## test_formatter_tool_latency (test_agent_performance.py:98)\n**Issue:** Strict \u003c1000ms timeout for Black execution\n**Problem:** Black startup time varies on different systems and CI (600ms+ baseline)\n**Solution:**\n1. Increase timeout to 1500ms or make it configurable\n2. Run warmup iteration to populate caches before timing\n3. Consider marking as @pytest.mark.flaky with reruns\n\n## test_file_read_overhead (test_sandbox_benchmarks.py:139)\n**Issue:** Strict \u003c20ms overhead for file I/O operations\n**Problem:** Sandbox overhead varies with system load, I/O scheduler\n**Solution:**\n1. Increase tolerance to 30ms (allows 50% variance)\n2. Use median of multiple runs instead of average (removes outliers)\n3. Add warmup iterations before measurement\n4. Mark as @pytest.mark.flaky\n\n## General Improvements\n- Add @pytest.mark.flaky(reruns=3) to performance tests\n- Use warmup iterations before timing critical sections\n- Calculate median instead of average for more stable results\n- Make timeouts configurable via environment variables for CI\n\nFiles to modify:\n- tests/performance/test_agent_performance.py\n- tests/performance/test_sandbox_benchmarks.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T08:40:53.139812295+13:00","updated_at":"2025-12-18T09:06:55.649410079+13:00","closed_at":"2025-12-18T09:06:55.649410079+13:00"}
{"id":"claude-agents-1ye","title":"Add Snyk scanning to GitHub Actions CI","description":"Integrate Snyk vulnerability scanning into .github/workflows/ci.yml as a gating check\n\n- Add Snyk authentication step\n- Run snyk test on dependencies\n- Fail build on high/critical vulnerabilities\n- Upload Snyk report as artifact\n- Configure severity thresholds\n- Document Snyk setup for contributors","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:21:36.740356879+13:00","updated_at":"2025-11-30T13:24:49.727995033+13:00","closed_at":"2025-11-30T13:24:49.727995033+13:00"}
{"id":"claude-agents-1zm","title":"Format entire codebase to clear Black formatting debt","description":"Run 'poetry run black src/ tests/' at the start of each session to prevent formatting issues from accumulating. Prevents cascading Black failures during development.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-09T16:00:46.60987224+13:00","updated_at":"2025-12-09T16:28:46.049124977+13:00","closed_at":"2025-12-09T16:28:46.049124977+13:00"}
{"id":"claude-agents-26t","title":"Refactor tests to reduce duplication","description":"The test suite contains significant code duplication, especially in tests for the marketplace API where agent registration is repeated in almost every test. Refactor these tests to use  fixtures for setting up common objects like test clients and pre-registered agents. Use  to run the same test logic with different data inputs. This will make the tests more concise, readable, and easier to maintain.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:16:38.062846588+13:00","updated_at":"2025-12-15T21:42:10.747730643+13:00","closed_at":"2025-12-15T21:42:10.747730643+13:00"}
{"id":"claude-agents-2bc","title":"Improve pre-push CI validation - don't skip if CI in progress","description":"Current pre-push hook skips check if CI is in progress. Should wait for completion or fail if previous run failed. Prevents pushing broken code.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T10:19:24.102950911+13:00","updated_at":"2025-12-04T10:21:37.050667194+13:00","closed_at":"2025-12-04T10:21:37.050667194+13:00"}
{"id":"claude-agents-2cj","title":"Secure token management for external APIs","description":"Document secure token storage (avoid shell history, process list). Recommend read-only API tokens. Add token expiry checking. Consider OAuth2 alternative. Implement token rotation mechanism. Add warnings if tokens used in logs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:19.457962943+13:00","updated_at":"2025-12-13T08:49:17.204818735+13:00","closed_at":"2025-12-13T08:49:17.204818735+13:00"}
{"id":"claude-agents-2fw","title":"Implement proper daemon process supervision","description":"Use systemd/supervisor instead of manual PID files. Add heartbeat/health checking. Implement restart policy on crash. Integrate with system process managers. Document production daemon setup.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:10.477571194+13:00","updated_at":"2025-12-12T20:15:42.547678808+13:00","closed_at":"2025-12-12T20:15:42.547678808+13:00"}
{"id":"claude-agents-2ug","title":"Migrate to OpenTelemetry for observability","description":"Future enhancement: Migrate from custom JSONL logging to OpenTelemetry for standardized observability.\n\nWhy OpenTelemetry:\n- Industry standard (CNCF project)\n- Rich ecosystem (Jaeger, Prometheus, Grafana, cloud backends)\n- Built-in distributed tracing for concurrent agents\n- Context propagation across threads/processes\n- Performance optimizations (batching, sampling)\n- Vendor-neutral (easy to switch backends)\n\nImplementation approach:\n- Local-first by default (file exporters)\n- Optional backends (Jaeger, Prometheus, OTLP)\n- Minimal dependencies (opentelemetry-api, opentelemetry-sdk)\n- Optional exporters as extras (devloop[jaeger], devloop[prometheus])\n\nConfiguration:\n{\n  \"telemetry\": {\n    \"backend\": \"local\",  // Default\n    \"local\": {\n      \"traces_file\": \".devloop/traces.jsonl\",\n      \"metrics_file\": \".devloop/metrics.jsonl\"\n    },\n    \"jaeger\": {\n      \"enabled\": false,\n      \"endpoint\": \"http://localhost:14268/api/traces\"\n    }\n  }\n}\n\nBenefits:\n- Standardized format for observability\n- Integration with existing tools\n- Better distributed tracing visualization\n- Future-proof architecture\n- Easy cloud integration\n\nDependencies to add:\n- opentelemetry-api\u003e=1.21.0\n- opentelemetry-sdk\u003e=1.21.0\nOptional:\n- opentelemetry-exporter-jaeger (for visualization)\n- opentelemetry-exporter-prometheus (for metrics)\n- opentelemetry-exporter-otlp (for cloud backends)\n\nBlocked by:\n- Need structured event logging first (claude-agents-4ej)\n- Need to validate current logging format works well\n\nTarget: Future (post-v0.5.0)","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-08T21:31:58.070207331+13:00","updated_at":"2025-12-14T11:38:03.805752233+13:00","closed_at":"2025-12-14T11:38:03.805752233+13:00","dependencies":[{"issue_id":"claude-agents-2ug","depends_on_id":"claude-agents-4ej","type":"blocks","created_at":"2025-12-08T21:32:17.443307531+13:00","created_by":"daemon"}]}
{"id":"claude-agents-2xt","title":"Document upgrade path and version compatibility","description":"Document upgrade procedures. Add version migration documentation. Test upgrade paths across versions. Create CHANGELOG with migration notes for breaking changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:43.858983783+13:00","updated_at":"2025-12-13T18:11:32.71140112+13:00","closed_at":"2025-12-13T18:11:32.71140112+13:00"}
{"id":"claude-agents-31a","title":"Move demo_*.py and simulate_*.py files to scripts/demos/","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T21:10:59.861745143+13:00","updated_at":"2025-12-01T21:12:05.206367858+13:00","closed_at":"2025-12-01T21:12:05.206367858+13:00"}
{"id":"claude-agents-34y","title":"Improve debugging experience","description":"Add 'devloop debug' command for diagnostics. Implement state dump capability. Add trace mode. Create troubleshooting guide. Add tool for extracting useful logs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:40.758388952+13:00","updated_at":"2025-12-13T18:06:16.477285875+13:00","closed_at":"2025-12-13T18:06:16.477285875+13:00"}
{"id":"claude-agents-35a","title":"Consider refactoring verify_work(), update_hooks(), and run_daemon() functions","description":"Three additional functions have moderate complexity that could be improved:\n1. verify_work() - complexity 10 (Grade B) at line 1192\n2. update_hooks() - complexity 9 (Grade B) at line 1143  \n3. run_daemon() - complexity 6 (Grade B) at line 241\n\nThese are lower priority but should be considered during future refactoring of src/devloop/cli/main.py to keep the codebase maintainable.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-16T13:44:08.39918335+13:00","updated_at":"2025-12-16T13:44:08.39918335+13:00"}
{"id":"claude-agents-3f6","title":"Create ProjectContext module for project detection","description":"Implement src/devloop/core/project_context.py with:\n- ProjectContext class\n- is_devloop_repository() - detect if in devloop source\n- get_test_root() - return appropriate test directory\n- get_exclude_patterns() - return patterns to exclude\n- get_project_type() - detect Python/JS/etc.\n\nDetection methods:\n1. Check pyproject.toml for name='devloop'\n2. Check git remote URL\n3. Check for .devloop-repository-marker file\n\nAdd unit tests for all detection methods.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:02:29.920827334+13:00","updated_at":"2025-12-14T16:09:21.654952793+13:00","closed_at":"2025-12-14T16:09:21.654952793+13:00","dependencies":[{"issue_id":"claude-agents-3f6","depends_on_id":"claude-agents-klo","type":"parent-child","created_at":"2025-12-14T16:02:29.928557055+13:00","created_by":"daemon"}]}
{"id":"claude-agents-3g3","title":"Create SnykAgent class","description":"Inherit from BaseAgent, implement handle() method, call snyk CLI and return vulnerability findings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:12:58.708765769+13:00","updated_at":"2025-11-30T13:19:59.879798946+13:00","closed_at":"2025-11-30T13:19:59.879798946+13:00","dependencies":[{"issue_id":"claude-agents-3g3","depends_on_id":"claude-agents-7sd","type":"parent-child","created_at":"2025-11-30T13:13:08.836841113+13:00","created_by":"daemon"}]}
{"id":"claude-agents-3on","title":"Document Snyk setup and integration","description":"Add to README: installation, API token setup, severity filtering, scan results examples","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:13:03.132410333+13:00","updated_at":"2025-11-30T13:20:44.654104469+13:00","closed_at":"2025-11-30T13:20:44.654104469+13:00","dependencies":[{"issue_id":"claude-agents-3on","depends_on_id":"claude-agents-7sd","type":"parent-child","created_at":"2025-11-30T13:13:08.916951246+13:00","created_by":"daemon"}]}
{"id":"claude-agents-3ts","title":"Publish DevLoop to PyPI","description":"Make DevLoop installable via pip install devloop for easier distribution\n\n- Configure package metadata in pyproject.toml\n- Set up build configuration (build tool)\n- Create PyPI account and API token\n- Build distribution packages\n- Publish to PyPI test repository (validation)\n- Publish to production PyPI\n- Update installation documentation\n- Add release workflow to GitHub Actions","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-30T13:44:06.509216972+13:00","updated_at":"2025-12-01T21:54:43.74947556+13:00","closed_at":"2025-12-01T21:54:43.74947556+13:00"}
{"id":"claude-agents-3yi","title":"Sandbox subprocess execution","description":"CRITICAL: Audit all subprocess calls in agents. Use explicit argument lists (not shell=True). Whitelist allowed tools. Consider isolated execution (venv per project or containers). Test against malicious configs (e.g., pyproject.toml with custom hooks).","notes":"Phase 1, 2 \u0026 3 Progress: Hybrid Sandbox Implementation\n\n**Phase 1 - Completed:**\n‚úÖ Base abstraction layer (SandboxExecutor, SandboxConfig, SandboxResult)\n‚úÖ Bubblewrap integration (Linux namespaces isolation)\n‚úÖ NoSandbox fallback (whitelist + timeout enforcement)\n‚úÖ Factory for automatic sandbox selection\n‚úÖ Tool whitelisting (13 approved tools)\n‚úÖ Resource limits (500MB RAM, 25% CPU, 30s timeout)\n‚úÖ 27 comprehensive security tests (17 sandbox escapes + 10 malicious configs)\n‚úÖ Agent configuration with sandbox settings\n‚úÖ Complete installation and migration documentation\n‚úÖ TypeCheckerAgent sandbox integration with async tests\n\n**Phase 2 - Completed:**\n‚úÖ Audit logging for all sandbox executions (immutable JSONL trail)\n‚úÖ cgroups v2 helper framework for resource enforcement\n‚úÖ Performance benchmarks validating acceptable overhead\n  - Simple command: \u003c20ms overhead\n  - Python execution: \u003c30ms overhead  \n  - All 6 benchmark tests passing\n\n**Phase 3 - COMPLETED:**\n‚úÖ **Full cgroups integration with BubblewrapSandbox**\n  - Resource limits enforced (memory + CPU)\n  - Real-time resource usage metrics collection\n  - Graceful degradation when cgroups unavailable\n  - All 17 security tests + 6 benchmarks passing\n\n‚úÖ **Network allowlist foundation**\n  - Conditional network isolation based on allowed_network_domains\n  - Warning when allowlist configured but not fully implemented\n  - Documented as TODO for future selective filtering with network namespaces\n\n‚úÖ **Pyodide WASM Sandbox - POC Complete**\n  - Design documentation: docs/PYODIDE_SANDBOX_DESIGN.md\n  - PyodideSandbox class implementing SandboxExecutor interface\n  - pyodide_runner.js for Node.js-based WASM execution\n  - POC mode for testing without full Pyodide installation\n  - 14/14 tests passing (test_pyodide_sandbox.py)\n  - Cross-platform Python sandboxing alternative\n  - Ready for full Pyodide integration when needed\n\nüîÑ **Production Deployment Guide** - In progress\nüîÑ **Capsule Integration** - Awaiting Python support (alternative: Pyodide)\n\n**Files Added/Modified:**\n- src/devloop/security/bubblewrap_sandbox.py - cgroups integration\n- src/devloop/security/pyodide_sandbox.py - NEW: WASM sandbox POC\n- src/devloop/security/pyodide_runner.js - NEW: Node.js Pyodide runner\n- src/devloop/security/package.json - NEW: Pyodide dependencies\n- docs/PYODIDE_SANDBOX_DESIGN.md - NEW: Comprehensive design doc\n- tests/security/test_pyodide_sandbox.py - NEW: 14 POC tests\n\n**Test Results:**\n‚úÖ 17/17 security tests (Bubblewrap)\n‚úÖ 6/6 benchmark tests\n‚úÖ 14/14 Pyodide POC tests\n‚úÖ All pre-commit hooks passing\n\n**Branch:** feature/hybrid-sandbox-isolation\n**Status:** Phase 3 complete - Production-ready with Pyodide POC\n**Next:** Production deployment documentation, optional full Pyodide integration","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T22:18:51.792882964+13:00","updated_at":"2025-12-05T18:59:43.712141187+13:00","closed_at":"2025-12-05T18:59:43.712141187+13:00"}
{"id":"claude-agents-3ys","title":"Move planning/investigation docs to docs/planning/","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T21:11:00.006464773+13:00","updated_at":"2025-12-01T21:12:05.322615088+13:00","closed_at":"2025-12-01T21:12:05.322615088+13:00"}
{"id":"claude-agents-491","title":"Triage and organize 59 relevant devloop findings into actionable tasks","description":"Update beads with actual findings: Currently only 8 test failures in test_event_replay.py detected (no formatter/linter/perf findings). The 59 referenced findings don't exist in current context. Create issue for actual test failures instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T22:52:59.109546346+13:00","updated_at":"2025-12-13T17:38:13.17581345+13:00","closed_at":"2025-12-13T17:38:13.17581345+13:00"}
{"id":"claude-agents-4dl","title":"Fix devloop summary command to properly include operational health section","description":"The OperationalHealthAnalyzer is complete and working, but SummaryFormatter isn't rendering the health section in the summary output.\n\nIssue: When running 'devloop summary agent-summary today', the health report (‚úÖ System Health, ‚è±Ô∏è Activity, üèÉ Agent Performance, üìã Findings) is not being displayed.\n\nRoot cause: Unknown - devloop_dir is being found, analyzer is available, but health section doesn't appear in output.\n\nDebug needed:\n1. Verify devloop_dir is actually being passed to format_markdown()\n2. Check if exception is being silently caught\n3. Verify SummaryFormatter.format_markdown() is actually including the health report in the output\n4. Test end-to-end with actual summary command invocation\n\nFiles involved:\n- src/devloop/core/summary_formatter.py - format_markdown() method\n- src/devloop/cli/commands/summary.py - agent_summary() command\n- src/devloop/core/operational_health.py - OperationalHealthAnalyzer (working correctly)\n\nNext step: Debug the integration point and ensure health report appears in CLI output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:27:11.879882632+13:00","updated_at":"2025-12-04T19:30:00.080581149+13:00","closed_at":"2025-12-04T19:30:00.080581149+13:00"}
{"id":"claude-agents-4ej","title":"Add structured event logging for value tracking","description":"Implement structured event logging to track DevLoop's value and enable DORA metrics analysis.\n\nImplementation:\n1. Create .devloop/events.jsonl for structured event logging\n2. Add event tracking for:\n   - Agent executions (duration, findings, success/failure)\n   - Pre-commit/pre-push outcomes (checks run, passed/failed)\n   - CI roundtrips avoided (when pre-push prevents bad push)\n   - Issues found and fixed (time to feedback, time to fix)\n   - Value events (time saved, interruptions prevented)\n\nEvent format (JSONL):\n{\n  \"timestamp\": \"2024-01-15T10:23:45Z\",\n  \"event\": \"agent_executed\",\n  \"agent\": \"linter\",\n  \"duration_ms\": 123,\n  \"findings\": 3,\n  \"severity\": [\"error\", \"warning\"]\n}\n\nBenefits:\n- Track DevLoop's value over time\n- Enable DORA metrics calculation\n- Provide data for ROI reports\n- Support product improvement decisions\n\nFiles to modify:\n- src/devloop/core/telemetry.py (new)\n- src/devloop/core/agent.py (add event logging)\n- src/devloop/cli/templates/git_hooks/pre-commit (add event logging)\n- src/devloop/cli/templates/git_hooks/pre-push (add event logging)\n\nTarget: v0.4.0","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T21:30:57.182066529+13:00","updated_at":"2025-12-09T13:54:35.160064602+13:00","closed_at":"2025-12-09T13:54:35.160064602+13:00"}
{"id":"claude-agents-4ts","title":"Implement Multi-CI Platform Support (v0.3.0)","description":"Support GitLab CI/CD, Jenkins, CircleCI, and other CI platforms beyond GitHub Actions with pluggable adapter interface","status":"closed","priority":4,"issue_type":"epic","created_at":"2025-11-30T12:00:25.657704432+13:00","updated_at":"2025-12-13T09:38:10.884266171+13:00","closed_at":"2025-12-13T09:38:10.884266171+13:00"}
{"id":"claude-agents-4u2","title":"Agent Marketplace: Installation and dependency resolution","description":"Implement agent installation from registry. Add dependency resolution logic. Create  command. Support version pinning and constraints. Add rollback capability for failed installs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:26.588995848+13:00","updated_at":"2025-12-13T11:00:54.20460437+13:00","closed_at":"2025-12-13T11:00:54.20460437+13:00","dependencies":[{"issue_id":"claude-agents-4u2","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:26.596316805+13:00","created_by":"daemon"}]}
{"id":"claude-agents-4xo","title":"Add Jenkins provider implementation","description":"Implement full support for Jenkins CI as a pluggable provider.\n\nDesign:\n- Create src/devloop/providers/jenkins_provider.py\n- Implement JenkinsProvider(CIProvider) with all abstract methods\n- Use Jenkins REST API for programmatic access\n- Support authentication via JENKINS_TOKEN env var + JENKINS_USER\n- Support custom Jenkins URLs via JENKINS_URL env var\n\nImplement:\n- get_status(branch) - Get latest build for job/branch\n- list_runs(branch, limit) - Get build history\n- get_logs(run_id) - Get console output\n- rerun(run_id) - Trigger rebuild\n- cancel(run_id) - Stop build\n- get_workflows() - List all jobs\n- is_available() - Check Jenkins accessibility\n\nFeatures:\n- Auto-detect Jenkinsfile in devloop init\n- Support pipeline builds, parameterized builds\n- Work with ReleaseManager for Jenkins releases\n- Handle Jenkins authentication and URLs\n\nTests:\n- Mock provider tests\n- Test build status checks\n- Test with different build states\n\nDocumentation:\n- Add Jenkins example to PROVIDER_SYSTEM.md\n- Document Jenkinsfile configuration\n- Add migration guide for GitHub to Jenkins users","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-10T22:47:17.44976365+13:00","updated_at":"2025-12-14T11:38:03.979210663+13:00","closed_at":"2025-12-14T11:38:03.979210663+13:00"}
{"id":"claude-agents-5gx","title":"Phase 0: Create action logger with Amp thread context support","description":"Implementation:\n- Add action logging to CLI command handler\n- Capture optional AMP_THREAD_ID and AMP_THREAD_URL from environment\n- Store in .devloop/cli-actions.jsonl in JSONL format\n- Include: timestamp, command, args, thread_id, thread_url, exit_code\n\nFiles:\n- src/devloop/core/action_logger.py (new)\n- src/devloop/cli/main.py (modify to inject thread context)\n\nRelated docs:\n- See SELF_IMPROVEMENT_AGENT_ANALYSIS.md\n- See AMP_THREAD_INTEGRATION_PLAN.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:52:58.727247826+13:00","updated_at":"2025-12-12T10:54:45.542889928+13:00","closed_at":"2025-12-12T10:54:45.542889928+13:00","dependencies":[{"issue_id":"claude-agents-5gx","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:58.732987561+13:00","created_by":"daemon"}]}
{"id":"claude-agents-5mi","title":"Update TestRunnerAgent with context awareness","description":"Modify src/devloop/agents/test_runner.py:\n- Initialize ProjectContext in __init__\n- Update _find_related_tests() to respect project context\n- Add _is_excluded() method for pattern matching\n- Add _matches_pattern() for glob pattern checks\n- Use project context to determine test roots\n- Filter discovered tests through exclusion patterns\n\nEnsure backward compatibility with existing configs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:02:52.054488486+13:00","updated_at":"2025-12-14T16:19:00.988903097+13:00","closed_at":"2025-12-14T16:19:00.988903097+13:00","dependencies":[{"issue_id":"claude-agents-5mi","depends_on_id":"claude-agents-klo","type":"parent-child","created_at":"2025-12-14T16:02:52.061864246+13:00","created_by":"daemon"},{"issue_id":"claude-agents-5mi","depends_on_id":"claude-agents-3f6","type":"blocks","created_at":"2025-12-14T16:02:52.070660573+13:00","created_by":"daemon"},{"issue_id":"claude-agents-5mi","depends_on_id":"claude-agents-tsz","type":"blocks","created_at":"2025-12-14T16:02:52.081113567+13:00","created_by":"daemon"}]}
{"id":"claude-agents-5yy","title":"Create Claude Code subagents (parallel with Amp subagents)","description":"Create comprehensive Claude Code subagent configs to complement Amp subagents.\n\nSUBAGENTS CREATED:\n1. code-quality-checker.md\n   - Parallel code quality checks (Black, Ruff, mypy, pytest)\n   - Output clear pass/fail with actionable fixes\n   - Targets 90s execution time (vs 190s sequential)\n\n2. parallel-file-formatter.md\n   - Format files by type (Python, TypeScript, JSON, Markdown)\n   - Groups files and runs formatters in parallel\n   - Targets 30s execution time (vs 60s sequential)\n\n3. ci-status-monitor.md\n   - Monitor CI/CD pipeline status\n   - Non-blocking alerts on failures\n   - Links to failed runs and logs\n   - Suggests fixes\n\n4. test-coverage-analyzer.md\n   - Analyze test coverage gaps\n   - Identify critical vs nice-to-have improvements\n   - Prioritize which tests to write next\n   - Assess test quality\n\nDOCUMENTATION CREATED:\n- SUBAGENT_REFERENCE.md (comprehensive guide)\n- Integration instructions for all 4 subagents\n- Performance characteristics and troubleshooting\n\nINTEGRATION:\n- All subagents follow Claude Code YAML frontmatter format\n- Located in .claude/agents/ directory\n- Ready for manual testing and deployment\n\nTESTING NEEDED:\n- Manual invocation of each subagent in Claude Code\n- Verify tools work as expected\n- Verify YAML frontmatter is correct\n- Test parallel execution\n- Test error handling\n\nDEFINITION OF DONE:\n- All 4 Claude Code subagents created and formatted\n- SUBAGENT_REFERENCE.md completed\n- Instructions clear for manual testing\n- Ready for Phase 2 implementation\n\nCOMPLEMENT TO:\n- Amp subagents (created in separate Phase 2 task)\n- Both support same optimization goals\n- Different interfaces (Amp vs Claude Code)\n- Same parallel execution strategies\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md and SUBAGENT_REFERENCE.md for full context.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:26:11.365657577+13:00","updated_at":"2025-12-12T19:03:52.21362514+13:00","closed_at":"2025-12-12T19:03:52.213628093+13:00","dependencies":[{"issue_id":"claude-agents-5yy","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:26:11.367424539+13:00","created_by":"daemon"}]}
{"id":"claude-agents-5z7","title":"Add performance benchmarking and monitoring","description":"The README makes specific performance claims that need validation:\n- Sub-second latency\n- \u003c5% idle CPU\n- 50MB memory footprint\n- \u003c1 second feedback (as you type)\n\nImplement:\n1. Benchmarking suite (pytest-benchmark) for agent latency\n2. Resource usage tests (memory_profiler, psutil) for CPU/memory\n3. Integration tests measuring file-save-to-result timing\n4. Document actual measured performance in tests/PERFORMANCE.md\n5. Add CI checks to prevent performance regressions\n6. Update README with actual measured values (not estimates)\n\nWhy this matters:\n- Performance claims are in README but not tested\n- Users expect the advertised performance\n- Need data to back up marketing claims\n- Prevents regressions over time","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-09T11:35:25.627885948+13:00","updated_at":"2025-12-09T13:58:06.809721323+13:00","closed_at":"2025-12-09T13:58:06.809721323+13:00","dependencies":[{"issue_id":"claude-agents-5z7","depends_on_id":"claude-agents-79p","type":"blocks","created_at":"2025-12-09T11:35:25.67840945+13:00","created_by":"daemon"}]}
{"id":"claude-agents-60n","title":"Agent Marketplace: Registry API and metadata schema","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:17.938321785+13:00","updated_at":"2025-12-13T16:42:25.039115567+13:00","closed_at":"2025-12-13T16:42:25.039115567+13:00"}
{"id":"claude-agents-665","title":"Clean up root directory documentation","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T21:11:00.135673633+13:00","updated_at":"2025-12-01T21:12:05.424280278+13:00","closed_at":"2025-12-01T21:12:05.424280278+13:00"}
{"id":"claude-agents-6ak","title":"Update README test count badge from 167+ to 239+","description":"Quick win: Update the README test count badge to reflect actual reality.\n\nCurrent: '167+ passing tests'\nActual: 239 individual test functions (verified via grep)\n\nThis is great - we're under-promising! But we can update the badge to be more accurate:\n- Change badge from '167' to '239'\n- Keep the '+' suffix to indicate we're still growing\n- Update the trust signals section to reference 239+ tests\n- Consider adding a link to test count verification command\n\nFile to update: README.md line 6 and line 77\n\nThis is a quick confidence booster for potential users.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T11:35:27.612022868+13:00","updated_at":"2025-12-09T11:51:30.086657226+13:00","closed_at":"2025-12-09T11:51:30.086657226+13:00","dependencies":[{"issue_id":"claude-agents-6ak","depends_on_id":"claude-agents-79p","type":"discovered-from","created_at":"2025-12-09T11:35:27.718889336+13:00","created_by":"daemon"}]}
{"id":"claude-agents-6c5","title":"Investigate and fix async warnings in test suite","description":"The test suite produces several  and  messages related to asynchronous code and un-awaited coroutines. These warnings suggest potential race conditions or resource leaks in the async test setup or teardown. Investigate the source of these warnings and fix them to improve the stability and reliability of the test suite.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:23:42.369456199+13:00","updated_at":"2025-12-15T21:53:35.518440461+13:00","closed_at":"2025-12-15T21:53:35.518440461+13:00"}
{"id":"claude-agents-6e9","title":"Agent audit log has unbounded growth with no retention policy","description":"Agent audit logs (.devloop/agent-audit.log) accumulate indefinitely with no retention/rotation. Unlike telemetry (30-day retention) and performance metrics (30-day retention), audit logs never get cleaned up. File will grow unbounded and cause disk exhaustion.\n\nSuggested fix: Implement 30-90 day retention policy with cleanup similar to context_store.cleanup_old_findings()","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-09T15:52:13.339898652+13:00","updated_at":"2025-12-09T15:56:39.319598025+13:00","closed_at":"2025-12-09T15:56:39.319598025+13:00"}
{"id":"claude-agents-6hf","title":"Document release process in AGENTS.md or README","description":"The release process should be documented so developers remember to:\n\n1. Use scripts/bump-version.py for version bumping (not manual editing)\n2. Update CHANGELOG.md with release notes\n3. Run 'poetry lock' to update dependencies\n4. Commit and tag the release\n5. Push to origin with tag\n\nCurrent issue: v0.4.0 was released manually without using the bump script.\n\nAdd documentation to:\n- AGENTS.md (Release section)\n- or create RELEASE_PROCESS.md\n\nInclude:\n- Step-by-step release checklist\n- Usage of scripts/bump-version.py\n- CHANGELOG.md update format\n- Git tag and push commands\n- Notes about pre-commit hook bypassing for poetry.lock","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:40:31.815473172+13:00","updated_at":"2025-12-09T16:40:54.275972957+13:00","closed_at":"2025-12-09T16:40:54.275972957+13:00"}
{"id":"claude-agents-6m8","title":"Test end-to-end Snyk security scanning","description":"Create comprehensive test suite to verify Snyk agent correctly scans dependency files (requirements.txt, package.json, etc), reports vulnerabilities with proper severity, and integrates findings into context store. Test with vulnerable package versions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:08:22.019860625+13:00","updated_at":"2025-12-16T13:48:58.296371864+13:00","closed_at":"2025-12-16T13:48:58.296371864+13:00"}
{"id":"claude-agents-6u4","title":"Create pre-flight checklist script for development sessions","description":"Create .agents/preflight.sh script to run before starting work:\n- poetry run black src/ tests/\n- poetry run ruff check src/ tests/ --fix\n- poetry run pytest tests/unit -q\n\nMakes it easy to start sessions with a clean state.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:00:50.090391268+13:00","updated_at":"2025-12-09T16:28:46.105481693+13:00","closed_at":"2025-12-09T16:28:46.105481693+13:00"}
{"id":"claude-agents-6xd","title":"Add path validation and symlink protection","description":"Use pathlib.Path.resolve() to eliminate symlinks. Use fnmatch/glob for proper pattern matching. Validate all file paths are within project directory. Prevent path traversal attacks. Test with malicious symlink setups.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:19.042293787+13:00","updated_at":"2025-12-12T22:22:08.163834293+13:00","closed_at":"2025-12-12T22:22:08.163834293+13:00"}
{"id":"claude-agents-6yk","title":"Add GitLab CI provider implementation","description":"Implement full support for GitLab CI/CD as a pluggable provider.\n\nDesign:\n- Create src/devloop/providers/gitlab_ci_provider.py\n- Implement GitlabCIProvider(CIProvider) with all abstract methods\n- Use GitLab API v4 or glab CLI for API access\n- Support authentication via GITLAB_TOKEN env var or ~/.gitlab-token\n- Implement: get_status, list_runs, get_logs, rerun, cancel, get_workflows, is_available\n\nFeatures:\n- Auto-detect .gitlab-ci.yml in devloop init\n- Support GitLab pipeline runs, logs, reruns\n- Work with ReleaseManager for GitLab releases\n- Fallback to glab CLI if API unavailable\n\nTests:\n- Mock provider tests\n- Test pipeline status checks\n- Test with different pipeline states\n\nDocumentation:\n- Add GitLab example to PROVIDER_SYSTEM.md\n- Add migration guide for GitHub to GitLab users\n\nNice-to-have:\n- Support for GitLab Docker registry integration\n- Support for deployment pipeline checks","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-10T22:47:12.93747938+13:00","updated_at":"2025-12-14T11:38:03.934856995+13:00","closed_at":"2025-12-14T11:38:03.934856995+13:00"}
{"id":"claude-agents-6ym","title":"Enhance agent summary with operational details: health, performance, run times","description":"Current summary only shows finding counts by urgency level. Users can't tell if devloop is working, when it last ran, or if there are performance issues.\n\n## Desired enhancements:\n\n1. **Health Status**\n   - Overall health from health_check.json\n   - Pass/fail breakdown of individual checks\n   - Last health check timestamp\n\n2. **Performance Metrics**\n   - Per-agent execution count and success rate\n   - Average execution time per agent\n   - Slowest agents (outliers)\n\n3. **Activity Timeline**\n   - Last run timestamp\n   - Time since last run (e.g. '2 hours ago')\n   - Frequency of runs (e.g. 'runs ~5 times per day')\n\n4. **Finding Summary**\n   - Better breakdown: immediate/relevant/deferred counts\n   - Count by agent type (linter, formatter, test, security, etc.)\n   - Changes since last check (‚Üë 2 new issues, ‚Üì 1 fixed)\n\n5. **Quick Status Indicators**\n   - ‚úÖ Health: HEALTHY / ‚ö†Ô∏è DEGRADED / ‚ùå UNHEALTHY\n   - Agent performance: normal / slow / failing\n   - Formatting of data for easy scanning\n\nSource data available:\n- .devloop/health_check.json - system health\n- .devloop/feedback/performance.json - per-agent metrics\n- .devloop/context/index.json - finding summary\n- .devloop/devloop.log - activity/timestamps\n- .devloop/agents.json - agent config\n\nImplement in: src/devloop/cli/commands/summary.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:22:38.845740617+13:00","updated_at":"2025-12-04T19:24:13.563154755+13:00","closed_at":"2025-12-04T19:24:13.563154755+13:00"}
{"id":"claude-agents-73t","title":"Analyze and optimize hook duplication + parallelize with subagents","description":"ANALYSIS TASK: Review duplicate checks in hooks and plan optimization using Amp/Claude Code subagents.\n\nCURRENT DUPLICATIONS FOUND:\n\n1. Pre-commit hook checks (runs 5 checks sequentially):\n   - Black formatting\n   - Ruff import sorting\n   - Full Ruff linting\n   - mypy type checking\n   - pytest tests\n\n2. Pre-push hook checks (runs 4 checks again):\n   - Black formatting (CHECK)\n   - Ruff linting (CHECK)\n   - mypy type checking (CHECK)\n   - pytest tests (CHECK + retry logic)\n   - CI status check (informational)\n\n3. Post-task hook in Amp (runs some checks):\n   - verify-task-complete (git verification)\n   - verify-common-checks (partial overlap with above)\n   - extract-findings-to-beads\n\n4. Pre-commit-checks subscript (redundant with main pre-commit)\n   - Duplicates Black, Ruff, mypy, pytest\n\nOPTIMIZATION OPPORTUNITIES:\n\n1. Parallel Execution:\n   - Use Amp subagents to run linting, type-checking, tests in parallel\n   - Use Claude Code subagents for multi-file formatting\n\n2. Result Caching:\n   - Cache last check results to avoid re-running same checks\n   - Only re-run checks when relevant files change\n\n3. Smart Triggering:\n   - Only run tests for changed files/modules\n   - Only run type-checking on changed files\n   - Format only staged files\n\n4. Async Processing:\n   - Move CI checks to background (Amp subagent)\n   - Extract findings asynchronously in Amp\n\n5. Unified Verification:\n   - Create single verify-all script called by all hooks\n   - Allows reuse and consistency\n\nDELIVERABLES:\n- Analysis document with detailed findings\n- Parallelization strategy using subagents\n- Implementation plan\n- Prototype subagent configs for Amp/Claude Code","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:19:33.699399463+13:00","updated_at":"2025-12-12T19:01:11.70085389+13:00","closed_at":"2025-12-12T19:01:11.700856996+13:00"}
{"id":"claude-agents-74j","title":"Enhance devloop init: auto-import Beads instructions into AGENTS.md","description":"When devloop init runs, enhance or create root AGENTS.md with Beads task management section.\n\n## Implementation approach:\n\n1. **Check for root AGENTS.md**\n   - If exists: enhance it to include Beads section (using template for coding agent integration)\n   - If missing: create from template\n\n2. **Beads section template**\n   - Provide a complete template covering: task tracking, important rules, workflow examples\n   - Coding agent should integrate this into existing AGENTS.md or create new file\n\n3. **Claude-specific symlink**\n   - Check if CLAUDE.md symlink exists pointing to AGENTS.md\n   - If not, create it: ln -s AGENTS.md CLAUDE.md\n   - This ensures Claude code tools get the instructions automatically\n\n4. **Add to devloop init workflow**\n   - After agents.json creation, add AGENTS.md verification/creation step\n   - After AGENTS.md, add Claude symlink step\n\n## Related Beads integration task: claude-agents-sut","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:15:36.986404085+13:00","updated_at":"2025-12-04T19:18:36.427456594+13:00","closed_at":"2025-12-04T19:18:36.427456594+13:00"}
{"id":"claude-agents-74t","title":"Add Code Rabbit configuration to agents.json","description":"Define triggers (file:save, git:pre-commit), API key env var, min severity setting","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:12:45.63770939+13:00","updated_at":"2025-11-30T13:15:32.840272579+13:00","closed_at":"2025-11-30T13:15:32.840272579+13:00","dependencies":[{"issue_id":"claude-agents-74t","depends_on_id":"claude-agents-c85","type":"parent-child","created_at":"2025-11-30T13:12:52.440923831+13:00","created_by":"daemon"}]}
{"id":"claude-agents-75t","title":"Phase 3: Advanced hook features (UserPromptSubmit, SubagentStop)","description":"Future enhancements for deeper Claude Code integration.\n\nOptional hooks for enhanced workflow:\n\nUserPromptSubmit Hook:\n- Detect when user asking about code quality\n- Automatically inject recent findings into context\n- Make findings 'visible' without explicit /verify-work command\n- Smart context enrichment based on prompt analysis\n\nSubagentStop Hook:\n- Create Beads issues automatically when task completes\n- Similar to Amp post-task findings extraction\n- Link issues to task/parent issue automatically\n- Auto-categorize findings by severity\n\nBenefits:\n‚úì Proactive findings injection (no manual command needed)\n‚úì Automatic issue tracking integration\n‚úì Enhanced Claude Code workflow integration\n‚úì More helpful development context\n\nTime estimate: ~4-6 hours (low priority, can defer)\nRisk: Low (optional enhancements)\nDepends: Phase 1 (core hooks must work first)\n\nWhen: Future minor release after Phase 1 stabilizes","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-09T22:34:09.561328078+13:00","updated_at":"2025-12-14T11:38:03.891780641+13:00","closed_at":"2025-12-14T11:38:03.891780641+13:00","dependencies":[{"issue_id":"claude-agents-75t","depends_on_id":"claude-agents-g5o","type":"discovered-from","created_at":"2025-12-09T22:34:14.843031519+13:00","created_by":"daemon"}]}
{"id":"claude-agents-76v","title":"Investigate 6 performance issues","description":"DevLoop identified 6 potential performance improvement(s):\n\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: init (complexity: 58)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: watch_async (complexity: 31)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: verify_work (complexity: 10)\n\n...and 3 more\n\nConsider these optimizations in your next refactoring.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T00:34:56.608189554+13:00","updated_at":"2025-12-15T00:36:19.574881933+13:00","closed_at":"2025-12-15T00:36:19.574881933+13:00"}
{"id":"claude-agents-78v","title":"Implement pre-push hook to review and prompt for relevant findings","description":"Enhance the pre-push git hook to automatically triage and queue findings:\n\n1. After CI check passes, run 'devloop summary agent-summary recent'\n2. Extract relevant findings (errors, warnings, formatter issues)\n3. Automatically create Beads issues for:\n   - formatter violations that could fail CI (high priority)\n   - linter errors blocking fixes (high priority)\n   - performance issues worth investigating (medium priority)\n4. Link created issues with 'discovered-from' dependency to current work\n5. These issues appear in 'bd ready' queue automatically\n\nThis keeps findings in sync with the task queue without interrupting the push workflow. Developers see them when they check 'bd ready' for next work.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T22:53:02.827715985+13:00","updated_at":"2025-12-05T14:41:03.890143943+13:00","closed_at":"2025-12-05T14:41:03.890143943+13:00"}
{"id":"claude-agents-79p","title":"Gap analysis: README promises vs implementation reality","description":"Systematic review of all README claims against actual codebase implementation to identify areas for improvement and ensure marketing accuracy.\n\nKey findings to document:\n1. Test count: README claims 167+ tests, actual count is 239 tests (GOOD - under-promising!)\n2. Smart test selection: Claimed in comparison table, actually implemented in test_runner.py:306-333\n3. Learning system: Claimed in comparison table, fully implemented in learning.py\n4. Agent count: Claimed 11 built-in agents, actual count is 11 user-facing + 4 internal (ACCURATE)\n5. Performance metrics: Need to verify sub-second, \u003c5% CPU, 50MB memory claims\n6. Time savings: Need to validate '75-90 min saved per day' calculation\n7. CI cost reduction: Need to validate '60%+ reduction' claim","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T11:34:30.87658989+13:00","updated_at":"2025-12-09T11:36:04.449425272+13:00","closed_at":"2025-12-09T11:36:04.449425272+13:00"}
{"id":"claude-agents-7ap","title":"Add version sync check to pre-commit hook","description":"Add validation to pre-commit hook template to check that version in pyproject.toml matches version in src/devloop/__init__.py.\n\nThis prevents commits with mismatched versions, catching the issue early in the development workflow.\n\nImplementation:\n- Add check after poetry.lock validation in pre-commit template\n- Extract version from both files using grep/sed\n- Compare versions and block commit if mismatch\n- Provide clear error message with both versions shown\n- Update template in: src/devloop/cli/templates/git_hooks/pre-commit\n\nFiles to modify:\n- src/devloop/cli/templates/git_hooks/pre-commit (add version check)\n\nExpected result:\nWhen committing changes to either file, hook verifies versions match and blocks commit if they don't.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T23:18:00.144168549+13:00","updated_at":"2025-12-08T23:18:39.584109909+13:00","closed_at":"2025-12-08T23:18:39.584109909+13:00"}
{"id":"claude-agents-7ir","title":"Audit pre-commit configuration for staged-only linting","description":"Review .pre-commit-config.yaml to understand current behavior:\n- Does it lint all files or only staged changes?\n- Can we configure it to auto-fix formatting?\n- Why were unrelated files (manager.py, formatter.py) flagged during commits?\n\nGoal: Improve pre-commit to be less noisy and more developer-friendly.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T16:00:53.69164435+13:00","updated_at":"2025-12-13T18:17:33.741007446+13:00","closed_at":"2025-12-13T18:17:33.741007446+13:00"}
{"id":"claude-agents-7ku","title":"DevLoop log files growing unbounded (17GB+)","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-01T22:10:52.311904936+13:00","updated_at":"2025-12-01T22:11:49.965767133+13:00","closed_at":"2025-12-01T22:11:49.965767133+13:00"}
{"id":"claude-agents-7ng","title":"Phase 2: Claude Code hooks testing and refinement","description":"Phase 2: Claude Code hooks testing and refinement\n\n‚úÖ COMPLETED ITEMS:\n- [x] Test hooks with different project types (Python, Node.js, mixed) - via TestHooksWithPythonProject and TestHooksWithNodeProject\n- [x] Create integration tests for hook behavior - 36 comprehensive test cases in tests/test_claude_hooks.py\n- [x] Add file protection whitelist mechanism - .claude/file-protection-whitelist.json support\n- [x] Test with missing dependencies - TestHooksWithMissingDependencies test class\n- [x] Document troubleshooting for common hook failures - Updated .agents/hooks/README.md\n- [x] Test various edge cases - TestHooksWithEdgeCases with 8 test scenarios\n\nREMAINING ITEMS (Future):\n- [ ] Test hooks on different OS (macOS, Linux, Windows) - Linux tested, macOS/Windows CI pending\n- [ ] Add optional hooks (UserPromptSubmit for context injection) - Phase 3\n- [ ] Test with web Claude Code (document limitations) - Documented in README\n- [ ] Gather user feedback and iterate - Post-release\n\nTEST COVERAGE:\n- 36 test cases total: all passing\n- SessionStart hook: 3 tests\n- Stop hook: 4 tests\n- File protection: 13 tests (including whitelist)\n- Integration tests: 1 test\n- Python/Node.js project tests: 2 tests\n- Missing dependencies: 2 tests\n- Edge cases: 8 tests\n- Documentation validation: 3 tests\n\nCODE CHANGES:\n- tests/test_claude_hooks.py - 612 lines of comprehensive test coverage\n- .agents/hooks/claude-file-protection - Added whitelist support\n- .agents/hooks/README.md - Added whitelist docs and troubleshooting\n\nCOMMITS:\n- Phase 2: Add comprehensive hook integration tests and whitelist mechanism\n\nSTATUS: READY FOR TESTING ON macOS AND WINDOWS (CI/CD in progress)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-09T22:45:20.988867808+13:00","updated_at":"2025-12-11T21:45:42.213125591+13:00","dependencies":[{"issue_id":"claude-agents-7ng","depends_on_id":"claude-agents-1i0","type":"discovered-from","created_at":"2025-12-09T22:45:20.998046642+13:00","created_by":"daemon"}]}
{"id":"claude-agents-7sd","title":"Integrate Snyk CLI as Agent","description":"Add Snyk as a devloop agent for security vulnerability scanning\n\n- Create SnykAgent wrapper class\n- Implement CLI integration (snyk command)\n- Configure agent in .devloop/agents.json\n- Add findings to context store with severity levels\n- Document setup and API token configuration\n- Test with vulnerable dependencies","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-30T13:12:55.899939114+13:00","updated_at":"2025-11-30T13:21:32.017560758+13:00","closed_at":"2025-11-30T13:21:32.017560758+13:00","dependencies":[{"issue_id":"claude-agents-7sd","depends_on_id":"claude-agents-c85","type":"blocks","created_at":"2025-11-30T13:13:08.990804372+13:00","created_by":"daemon"}]}
{"id":"claude-agents-89b","title":"Add release automation to GitHub Actions","description":"Create release workflow: detect version tag, build wheel/sdist, auto-publish to PyPI on version tag push","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:44:35.363808771+13:00","updated_at":"2025-11-30T13:53:34.243131453+13:00","closed_at":"2025-11-30T13:53:34.243131453+13:00","dependencies":[{"issue_id":"claude-agents-89b","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.540781512+13:00","created_by":"daemon"}]}
{"id":"claude-agents-8dp","title":"Fix failing test_claude_hooks.py tests in CI","description":"The test_claude_hooks.py tests are failing in CI because they expect hook files that don't exist:\n- claude-session-start\n- claude-stop  \n- claude-file-protection\n\nThese tests need to either:\n1. Create the expected hook files, or\n2. Update the tests to match the actual hook file names that exist\n\nCI run: gh run view 20252501246\n\nThis is blocking pushes due to pre-push CI check.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T13:46:25.353669379+13:00","updated_at":"2025-12-16T15:06:35.011488543+13:00","closed_at":"2025-12-16T15:06:35.011488543+13:00"}
{"id":"claude-agents-8f7","title":"README: Add v0.5.0 features documentation","description":"Updated README to comprehensively document all v0.5.0 features:\n\nCOMPLETED:\n‚úÖ VSCode Extension with LSP\n‚úÖ Multi-CI and multi-registry provider system  \n‚úÖ Event logging with SQLite audit trails\n‚úÖ Beads task integration and auto-issue creation\n‚úÖ Amp thread context capture\n‚úÖ Token security and validation\n‚úÖ Daemon supervision, transactional I/O, config versioning\n‚úÖ Agent marketplace ratings/reviews\n‚úÖ Tool dependency management\n\nChanges:\n- Added 8 new sections (256 lines total)\n- Expanded Features section with IDE, reliability, workflow subsections\n- Added Common Commands for agent publishing and marketplace\n- Updated Agent Marketplace with ratings, HTTP API, tool dependencies\n- Added VSCode extension installation and usage guide\n- Added Multi-CI/Registry provider system documentation\n- Added Beads integration section\n- Added Event Logging \u0026 Observability section\n- Added Token Security best practices\n\nCoverage: All major v0.5.0 features from CHANGELOG now documented in README","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:53:06.577361883+13:00","updated_at":"2025-12-13T16:53:09.355781676+13:00","closed_at":"2025-12-13T16:53:09.355781676+13:00"}
{"id":"claude-agents-8k9","title":"Add telemetry/metrics to validate value claims","description":"README makes specific value claims that need real-world validation:\n- '75-90 min saved per developer per day'\n- 'Reduce CI costs by 60%+'\n- 'Catch 90%+ of CI failures locally'\n- '6-8 CI failures per day' baseline assumption\n\nImplement opt-in telemetry to collect:\n1. Agent execution counts and timing\n2. Findings that prevented commits/pushes\n3. CI run counts before/after DevLoop adoption\n4. Time from file-save to finding detection\n5. User surveys for subjective value metrics\n\nPrivacy-first approach:\n- Opt-in only (disabled by default)\n- Anonymous aggregation\n- Local storage with optional cloud export\n- Clear disclosure in README\n\nUse data to:\n- Validate or revise value claims in README\n- Provide users with personalized ROI reports\n- Identify which agents provide most value\n- Guide future development priorities\n\nRelated to: claude-agents-4ej (event logging)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T11:35:26.630547188+13:00","updated_at":"2025-12-13T21:23:37.565658826+13:00","closed_at":"2025-12-13T21:23:37.565658826+13:00","dependencies":[{"issue_id":"claude-agents-8k9","depends_on_id":"claude-agents-79p","type":"blocks","created_at":"2025-12-09T11:35:26.690057269+13:00","created_by":"daemon"},{"issue_id":"claude-agents-8k9","depends_on_id":"claude-agents-4ej","type":"related","created_at":"2025-12-09T11:35:26.771020805+13:00","created_by":"daemon"}]}
{"id":"claude-agents-8lh","title":"Phase 2: Parallelization - Create Amp subagents for parallel checks","description":"Parallelize code quality checks using Amp subagents to reduce pre-commit time.\n\nSCOPE:\n- Create Amp subagent: code-quality-checker (parallel Black/Ruff/mypy/pytest)\n- Create Amp subagent: ci-monitor (background CI status checking)\n- Create Amp subagent: async-findings-extractor (background findings extraction)\n- Refactor pre-commit hook to invoke subagents in parallel\n- Implement result aggregation and error handling\n\nSUBAGENT CONFIGS:\n1. code-quality-checker:\n   - Description: Parallel code quality checks (format, lint, type, test)\n   - Tools: Bash, Read\n   - System prompt guides parallel execution\n   - Used in: pre-commit hook for main checks\n\n2. ci-monitor:\n   - Description: Background CI status monitoring\n   - Tools: Bash\n   - Non-blocking, runs after push\n   - Reports failure as Beads issue if needed\n\n3. async-findings-extractor:\n   - Description: Async DevLoop findings extraction\n   - Tools: Bash, Read, Grep\n   - Runs in background after task completion\n   - Doesn't block task move\n\nIMPLEMENTATION:\n- Create .amp/subagents/code-quality-checker.md\n- Create .amp/subagents/ci-monitor.md\n- Create .amp/subagents/async-findings-extractor.md\n- Update pre-commit hook to call code-quality-checker subagent\n- Implement result aggregation\n- Handle subagent failures gracefully\n\nTESTING:\n- Single subagent invocation: measure time for code-quality-checker\n- Parallel vs sequential comparison: verify speedup\n- Error handling: test subagent timeout/failure scenarios\n- Integration: test full pre-commit with subagent\n\nDEFINITION OF DONE:\n- All three subagent configs created\n- Pre-commit hook invokes code-quality-checker\n- Parallel execution verified (45-60s target)\n- Time: pre-commit 3-4min ‚Üí 45-60s (70% improvement)\n\nBLOCKERS:\n- Depends on Phase 1 (deduplication)\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md for full context.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:20:36.871258833+13:00","updated_at":"2025-12-12T19:03:43.314253715+13:00","closed_at":"2025-12-12T19:03:43.314257917+13:00","dependencies":[{"issue_id":"claude-agents-8lh","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:20:36.872890634+13:00","created_by":"daemon"}]}
{"id":"claude-agents-8qb","title":"Optimize filesystem watching for large repos","description":"Add smarter exclusion filtering. Exclude common large directories (build/, dist/, .git/). Monitor file count and warn on large repos. Document setup for monorepos. Test with 100k+ file projects.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:29.054491018+13:00","updated_at":"2025-12-13T18:03:41.205632187+13:00","closed_at":"2025-12-13T18:03:41.205632187+13:00"}
{"id":"claude-agents-8vp","title":"Context store findings accumulate in memory between cleanup intervals","description":"ContextStore loads all findings into memory by tier at startup and keeps them in memory. Cleanup is implemented (cleanup_old_findings, default 1 hour interval) but findings accumulate between cleanup runs.\n\nImpact: Memory usage grows until next cleanup cycle\nCurrent: Cleanup runs every 1 hour via _cleanup_old_data() in main.py:243\n\nMonitor: Low risk given the 1-hour cleanup interval, but consider earlier intervals or stream-based loading if memory becomes an issue","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:52:27.045330616+13:00","updated_at":"2025-12-09T16:38:01.043853692+13:00","closed_at":"2025-12-09T16:38:01.043853692+13:00"}
{"id":"claude-agents-92l","title":"Improve error handling and failure notification","description":"Replace silent failures with visible error notification. Surface critical errors to user (not just logs). Add health check dashboard. Implement error codes and documentation. Agent startup should fail-fast on config errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:15.955818767+13:00","updated_at":"2025-12-13T17:33:56.158730299+13:00","closed_at":"2025-12-13T17:33:56.158730299+13:00"}
{"id":"claude-agents-9jk","title":"Document Snyk and CodeRabbit agent setup in README","description":"Add documentation to .devloop/README.md or AGENTS.md explaining how to configure Snyk and CodeRabbit agents: prerequisites (API keys), CLI tool installation, configuration options, expected behavior, and troubleshooting.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:08:24.396833374+13:00","updated_at":"2025-12-16T13:54:53.844524808+13:00","closed_at":"2025-12-16T13:54:53.844524808+13:00"}
{"id":"claude-agents-9tv","title":"Add prerequisite validation to devloop init (jq, gh CLI)","description":"Add validation that checks for required tools (jq, gh CLI) before installing git hooks. If missing, either:\n1. Provide clear error with installation instructions\n2. Warn but allow init to continue with optional feature disabled\n3. Offer interactive installation\n\nThis prevents silent degradation of pre-push CI checking.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T16:14:32.183042458+13:00","updated_at":"2025-12-09T16:19:52.761236939+13:00","closed_at":"2025-12-09T16:19:52.761236939+13:00"}
{"id":"claude-agents-9vd","title":"Make Claude Code hooks consistent with Amp verification behavior","description":"Problem:\nClaude Code currently uses read-only adapter (claude-code-adapter.py) that only displays findings, without any enforcement or verification. This is inconsistent with Amp's post-task hook which enforces commit/push discipline and quality checks.\n\n**Current Claude Code behavior:**\n- Slash commands (/agent-summary, /devloop-status, /devloop-findings) only query/display\n- No code quality enforcement\n- No automatic findings extraction\n- No pre-save validation\n\n**Desired behavior (matching Amp):**\n- Enforce commit/push discipline before allowing file save\n- Run code quality checks (Black, Ruff, mypy, pytest)\n- Auto-extract findings to Beads issues\n- Show inline diagnostics for critical issues\n- Non-blocking warnings for code quality issues\n\n**Implementation plan:**\n1. Create .agents/hooks/claude-code-save hook (runs after file save)\n2. Enhance claude-code-adapter.py to run verification checks\n3. Add /verify-work slash command for Claude Code (like post-task)\n4. Create /extract-findings-claude command\n5. Document Claude Code enforcement model\n6. Update AMP_ONBOARDING.md to include Claude Code hook equivalence\n\n**Files to modify:**\n- .devloop/integration/claude-code-adapter.py - add verification methods\n- .agents/hooks/claude-code-save - new hook script (optional, depends on Claude Code support)\n- src/devloop/cli/templates/claude_commands/verify-work.md - new slash command\n- src/devloop/cli/templates/claude_commands/extract-findings.md - new slash command\n- AMP_ONBOARDING.md - add Claude Code hook section\n- AGENTS.md - document Claude Code enforcement\n\n**Testing:**\n- Verify /verify-work command runs unified checks\n- Verify findings extraction works\n- Verify inline diagnostics display properly\n- Test with Claude Code integration","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T22:13:35.168816404+13:00","updated_at":"2025-12-09T22:23:45.579332011+13:00","closed_at":"2025-12-09T22:23:45.579332011+13:00"}
{"id":"claude-agents-9wj","title":"Add metrics dashboard and analysis commands","description":"Create CLI commands to view and analyze DevLoop metrics for value demonstration and product improvement.\n\nCommands to implement:\n1. devloop metrics value [--period PERIOD]\n   - Show time saved, CI roundtrips avoided, issues prevented\n   - Display push success rate improvements\n   - Show most valuable agents\n\n2. devloop metrics agents [--sort by-value|by-duration]\n   - Show agent performance metrics\n   - Display success rates and error counts\n   - Export to JSON for further analysis\n\n3. devloop metrics compare --before DATE --after DATE\n   - Compare metrics before/after DevLoop adoption\n   - Calculate improvements in DORA metrics\n   - Show ROI analysis\n\n4. devloop dashboard\n   - Interactive terminal dashboard with rich formatting\n   - Real-time metrics display\n   - Agent health status\n\nOutput example:\n‚ï≠‚îÄ DevLoop Value Dashboard (Last 30 Days) ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ Time Saved: 18.5 hours                      ‚îÇ\n‚îÇ CI Roundtrips Avoided: 67                   ‚îÇ\n‚îÇ Issues Caught: 456 (12 critical, 89 high)   ‚îÇ\n‚îÇ Push Success Rate: 96% ‚Üë (was 72%)         ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\nDependencies:\n- Requires structured event logging (claude-agents-4ej)\n\nTarget: v0.4.1","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T21:31:14.818294613+13:00","updated_at":"2025-12-13T18:36:45.150997204+13:00","closed_at":"2025-12-13T18:36:45.150997204+13:00","dependencies":[{"issue_id":"claude-agents-9wj","depends_on_id":"claude-agents-4ej","type":"blocks","created_at":"2025-12-08T21:32:09.752699119+13:00","created_by":"daemon"}]}
{"id":"claude-agents-a14","title":"Add Artifactory registry provider","description":"Implement Artifactory as a package registry provider.\n\nDesign:\n- Create src/devloop/providers/artifactory_registry.py\n- Implement ArtifactoryRegistry(PackageRegistry) with all abstract methods\n- Use Artifactory REST API v2/v3\n- Support authentication via ARTIFACTORY_TOKEN env var + ARTIFACTORY_URL\n- Support different repository types (generic, docker, maven, npm, etc.)\n\nImplement:\n- publish(package_path, version) - Deploy artifact\n- get_version(package_name) - Query latest version\n- get_versions(package_name, limit) - Version history\n- check_credentials() - Validate authentication\n- is_available() - Check Artifactory accessibility\n- get_package_url(package_name, version) - Get artifact URL\n\nFeatures:\n- Support custom repo paths\n- Work with ReleaseManager for multi-registry releases\n- Support different artifact types\n- Auto-detect Artifactory configuration\n\nTests:\n- Mock provider tests\n- Test artifact publishing\n- Test version queries\n- Test authentication\n\nDocumentation:\n- Add Artifactory example to PROVIDER_SYSTEM.md\n- Document configuration and repo setup\n- Add multi-registry release workflow example\n\nPriority: Low - Enterprise feature for future release","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-10T22:47:22.210288597+13:00","updated_at":"2025-12-14T11:38:04.01847188+13:00","closed_at":"2025-12-14T11:38:04.01847188+13:00"}
{"id":"claude-agents-a20","title":"Phase 4: Result caching - Cache check results to skip pre-push duplication","description":"Implement result caching to eliminate pre-push re-running of already-passed checks.\n\nSCOPE:\n- Implement check result caching with file hash tracking\n- Store results in .devloop/check-cache/\n- Use in pre-push hook to validate pushed code\n- Auto-cleanup old cache entries\n\nIMPLEMENTATION:\n1. Cache storage:\n   - Key: SHA256 of staged changes\n   - Value: {timestamp, exit_code, summary}\n   - Location: .devloop/check-cache/{hash}.json\n\n2. Cache validation:\n   - Check if hash exists in cache\n   - Verify cache age (\u003c1 hour typical)\n   - If valid, use cached result (instant)\n   - If invalid, run full check suite\n\n3. Cache invalidation:\n   - Clear on: git reset, git rebase, branch change\n   - Auto-cleanup: \u003e24h old entries\n   - Manual: .agents/scripts/clear-check-cache\n\n4. Pre-push integration:\n   - Before running checks, compute hash\n   - If cache exists and recent, use it (5s)\n   - If not, run full suite (3-4 min)\n   - Store result for future push attempts\n\nTESTING:\n- First commit: full check (60s)\n- Same commit, push multiple times: uses cache (5s each)\n- New commit: computes new hash, full check\n- Modify file after commit: invalidates cache\n- Cleanup: verify old cache entries removed\n\nDEFINITION OF DONE:\n- Cache storage created\n- Pre-push hook uses cache\n- Cache hit time: 5-10s (vs 3-4 min)\n- Cache auto-cleanup working\n- Time: pre-push 3-4min ‚Üí 5-10s (95% improvement!)\n\nBLOCKERS:\n- Depends on Phase 1 \u0026 2\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md for full context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:20:50.621618209+13:00","updated_at":"2025-12-12T19:06:53.683971469+13:00","closed_at":"2025-12-12T19:06:53.683976893+13:00","dependencies":[{"issue_id":"claude-agents-a20","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:20:50.623307617+13:00","created_by":"daemon"}]}
{"id":"claude-agents-a83","title":"Prevent accidental documentation deletion in future commits","description":"PREVENTION SYSTEM IMPLEMENTED:\n\n1. CI Documentation Check (.github/workflows/ci.yml) ‚úÖ\n   - New job: docs-check (runs first before other checks)\n   - Validates all README.md links resolve to files\n   - Detects deleted documentation files\n   - Requires commit message annotation for intentional deletions\n   - Fails CI build if broken links found\n   - Commit 882a082\n\n2. Pre-commit Hook (.agents/hooks/check-doc-deletions) ‚úÖ\n   - Warns when docs files are deleted\n   - Provides guidance for intentional deletions\n   - Non-blocking (allows intentional removals)\n   - Commit 882a082\n\n3. Documentation Practices (AGENTS.md) ‚úÖ\n   - Added 'Documentation Practices (CRITICAL)' section\n   - Documents prevention rules and commit discipline\n   - Shows example workflow for intentional deletions\n   - Explains accidental deletion that happened in 1e06145\n   - Commit 882a082\n\nROOT CAUSE: Commit 1e06145 accidentally deleted 10 docs files while refactoring metrics code. Files were properly tracked in git (not gitignored). Deletion went unnoticed because commit message didn't mention it.\n\nSOLUTION PREVENTS:\n- Future accidental doc deletions via CI validation\n- Broken README links (CI validates before merge)\n- Silent documentation removal (requires commit message annotation)\n- Confusion about whether deletion was intentional\n\nRECOVERY PROCEDURE:\n- If deletion is accidental, docs can always be recovered from git history\n- Example: git show HEAD~1:docs/file.md \u003e docs/file.md\n\nReady to close when CI pipeline has been validated on next commit.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-13T18:55:22.049182319+13:00","updated_at":"2025-12-13T18:56:27.999160307+13:00"}
{"id":"claude-agents-aat","title":"Implement Phase 2B: Poetry optional dependencies for optional agents","description":"Define optional dependency groups in pyproject.toml for snyk, code-rabbit, ci-monitor extras. Enable installation like 'pip install devloop[snyk,code-rabbit]'.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-04T09:53:05.357171766+13:00","updated_at":"2025-12-04T10:13:48.439377593+13:00","closed_at":"2025-12-04T10:13:48.439377593+13:00"}
{"id":"claude-agents-ae6","title":"Agent Marketplace: Agent publishing and maintenance tools","description":"Create tools for agent authors to publish to marketplace. Add version management and update mechanism. Implement deprecated agent warnings. Create  command. Add agent signing/verification.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:36.011906957+13:00","updated_at":"2025-12-13T16:45:55.002861419+13:00","closed_at":"2025-12-13T16:45:55.002861419+13:00","dependencies":[{"issue_id":"claude-agents-ae6","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:36.020660878+13:00","created_by":"daemon"}]}
{"id":"claude-agents-agt","title":"Phase 2: Refine file protection and add whitelist mechanism","description":"Testing and refinement of PreToolUse hook to prevent false positives.\n\nWhat:\n- Test file protection with real Write/Edit tool calls\n- Verify blocking is not too aggressive\n- Verify error messages are clear and actionable\n- Test edge cases (symlinks, relative paths, unusual filenames)\n- Add whitelist mechanism if needed for legitimate edits\n- Integration testing across different project types\n- Test with DevLoop missing or dependencies unavailable\n- Regression testing (Git hooks, Amp hooks, CLI commands still work)\n\nDocumentation:\n- Document what files are protected and why\n- Provide alternatives when protection blocks edits\n- Update error messages for clarity\n- Create troubleshooting guide\n\nTesting validation:\n- All scripts pass shellcheck\n- Python code passes ruff/mypy\n- Edge cases documented\n- Manual testing with Claude Code web/CLI\n\nTime estimate: ~1 hour\nRisk: Low (refinement of existing Phase 1)\nDepends: Phase 1 (Implement core hooks)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T22:34:03.183521294+13:00","updated_at":"2025-12-14T11:56:11.64043707+13:00","closed_at":"2025-12-14T11:56:11.64043707+13:00","dependencies":[{"issue_id":"claude-agents-agt","depends_on_id":"claude-agents-75t","type":"blocks","created_at":"2025-12-09T22:34:14.63379885+13:00","created_by":"daemon"},{"issue_id":"claude-agents-agt","depends_on_id":"claude-agents-g5o","type":"discovered-from","created_at":"2025-12-09T22:34:14.765251141+13:00","created_by":"daemon"}]}
{"id":"claude-agents-ail","title":"Document Code Rabbit setup and integration","description":"Add to README: installation, API key setup, configuration options, example output","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:12:47.775089389+13:00","updated_at":"2025-11-30T13:15:54.790382267+13:00","closed_at":"2025-11-30T13:15:54.790382267+13:00","dependencies":[{"issue_id":"claude-agents-ail","depends_on_id":"claude-agents-c85","type":"parent-child","created_at":"2025-11-30T13:12:52.467176295+13:00","created_by":"daemon"}]}
{"id":"claude-agents-aqu","title":"Phase 0: Document Amp thread integration in AGENTS.md","description":"Updates needed:\n1. Add section: 'Amp Thread Context Capture'\n   - Explain how thread context is used\n   - Document how to pass AMP_THREAD_ID\n   - Provide hook example for Amp users\n\n2. Update Amp integration section:\n   - Document thread context in action logs\n   - Explain cross-thread pattern detection\n   - Show how to enable self-improvement agent\n\n3. Add example:\n   - How devloop captures Amp prompts\n   - How patterns help improve devloop UX\n   - Privacy note: local-only analysis\n\nFiles:\n- AGENTS.md (modify)\n- AMP_ONBOARDING.md (possibly update)\n\nRelated docs:\n- See AMP_THREAD_INTEGRATION_PLAN.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:52:58.981112361+13:00","updated_at":"2025-12-12T10:56:06.81555972+13:00","closed_at":"2025-12-12T10:56:06.81555972+13:00","dependencies":[{"issue_id":"claude-agents-aqu","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:58.982425625+13:00","created_by":"daemon"}]}
{"id":"claude-agents-asu","title":"Document temporary test fixes (and their reversion)","description":"During the initial test suite assessment, several issues were encountered and temporarily fixed to establish a clean baseline of passing tests. These fixes were later reverted as the primary task was assessment and logging, not permanent implementation. This bead documents these issues and their temporary solutions for future reference and re-implementation:\n\n**1. PytestCollectionWarnings:**\n   - **Issue:** Pytest was collecting non-test classes (/, /) from the  directory, leading to warnings.\n   - **Temporary Fix:** Added  to these classes in  to prevent pytest collection. Also involved updating imports and usage in , , , and  due to class renames.\n\n**2. Skipped Tests:**\n   - **Issue:** 18 tests were skipped due to missing development dependencies related to FastAPI.\n   - **Temporary Fix:** Added , , and  to the  section of .\n\n**3. Failing Marketplace Server Tests:**\n   - **Issue:** Specific tests in the marketplace server were failing due to FastAPI route conflicts and  exceptions.\n   - **Temporary Fix:** Reordered FastAPI routes in  to resolve path conflicts. Added a custom exception handler for  in the same file to address  failures.\n\n**Reason for Reversion:** The core task was to assess the test suite and log findings as new beads. These fixes, while necessary for a clean assessment, were outside the scope of the permanent implementation phase and were reverted to preserve the original project state.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T20:29:18.894176034+13:00","updated_at":"2025-12-14T22:07:54.417796772+13:00","closed_at":"2025-12-14T22:07:54.417796772+13:00"}
{"id":"claude-agents-ax9","title":"Agent Marketplace: Agent discovery and search","description":"Implement agent discovery mechanism. Add search by name, category, tags. Support filtering by requirements (Python version, dependencies). Create  command. Add local caching of registry.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:24.533218931+13:00","updated_at":"2025-12-13T10:57:55.399078972+13:00","closed_at":"2025-12-13T10:57:55.399078972+13:00","dependencies":[{"issue_id":"claude-agents-ax9","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:24.54135898+13:00","created_by":"daemon"}]}
{"id":"claude-agents-ayc","title":"Integrate Snyk CLI installation into devloop setup","description":"When user selects Snyk integration during 'devloop init' or 'ca amp-setup', automatically install and authenticate snyk CLI tool if not present. Should verify SNYK_TOKEN env var and run 'snyk auth' if needed.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T13:08:17.639403002+13:00","updated_at":"2025-12-15T21:25:31.979853956+13:00","closed_at":"2025-12-15T21:25:31.979853956+13:00"}
{"id":"claude-agents-b0a","title":"Create CodeRabbitAgent class","description":"Inherit from BaseAgent, implement handle() method, call code-rabbit CLI and return findings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:12:43.333282306+13:00","updated_at":"2025-11-30T13:15:16.617255588+13:00","closed_at":"2025-11-30T13:15:16.617255588+13:00","dependencies":[{"issue_id":"claude-agents-b0a","depends_on_id":"claude-agents-c85","type":"parent-child","created_at":"2025-11-30T13:12:52.406463176+13:00","created_by":"daemon"}]}
{"id":"claude-agents-bam","title":"Document and verify external tool dependencies","description":"Document all dependencies (mypy, ruff, black, pytest, bandit, snyk, code-rabbit). Add version compatibility matrix. Implement tool health checks. Add graceful fallback if tool missing. Test tool detection on startup.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:35.338710292+13:00","updated_at":"2025-12-13T10:23:31.988711759+13:00","closed_at":"2025-12-13T10:23:31.988711759+13:00"}
{"id":"claude-agents-bfg","title":"Fix git hooks Poetry dependency (quick fix)","description":"CRITICAL: Git hooks template (src/devloop/cli/templates/git_hooks/pre-commit-checks) uses 'poetry run' commands that fail on fresh installs where Poetry is not available.\n\nQuick fix approach:\n1. Detect if Poetry is available and pyproject.toml exists\n2. If yes, use 'poetry run' prefix\n3. If no, try running tools directly\n4. If tools not available, skip gracefully with informative message\n5. Update both template and installed hooks\n\nThis is a critical bug affecting all users who run 'devloop init' on fresh projects.\n\nFiles to modify:\n- src/devloop/cli/templates/git_hooks/pre-commit-checks\n\nRelated to slash command fix in commit e2d58aa.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-08T16:33:22.997603579+13:00","updated_at":"2025-12-10T22:23:02.470360495+13:00","closed_at":"2025-12-10T22:23:02.470360495+13:00"}
{"id":"claude-agents-bkb","title":"Install CodeRabbit CLI tool","description":"CodeRabbit agent is enabled and API key configured, but the CLI tool (code-rabbit command) is not installed. Agent logs show: 'code-rabbit command not found'. Install and test the CodeRabbit CLI to enable full scanning capabilities.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:08:17.378503132+13:00","updated_at":"2025-12-15T21:17:37.651809675+13:00","closed_at":"2025-12-15T21:17:37.651809675+13:00"}
{"id":"claude-agents-bm2","title":"Refactor watch_async() function to reduce complexity from 31","description":"The watch_async() function in src/devloop/cli/main.py has a cyclomatic complexity of 31 (Grade E). This should be refactored by:\n1. Extracting agent initialization into separate function\n2. Moving collector setup into helper methods\n3. Separating event loop management logic\n4. Breaking down the main watch loop\n\nFile: src/devloop/cli/main.py:395","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T13:44:04.584444149+13:00","updated_at":"2025-12-16T13:44:04.584444149+13:00"}
{"id":"claude-agents-brf","title":"Implement modular tool registry system for git hooks","description":"PHASE 1 COMPLETE: Implemented modular tool registry system (Commit 4393d19)\n\n‚úÖ COMPLETED:\nPhase 1 (MVP) - Tool Registry Core\n- tool_registry.py: Modular registry with 7 built-in tools\n- tool_runner.py: Tool execution with error handling, auto-fix support\n- Full test coverage (test_tool_registry.py)\n- Multiple runner support (Poetry, pip, npm, yarn, direct)\n- Priority-based tool selection\n- Graceful degradation when tools unavailable\n- Custom tool loading from JSON registry files\n\nBuilt-in Tools:\n- Formatters: black, prettier\n- Linters: ruff, eslint  \n- Type checkers: mypy\n- Test runners: pytest\n- Security: bandit\n\nFeatures:\n- Runner auto-detection\n- Available tool filtering\n- Best tool selection by priority\n- Auto-fix command templates\n- Comprehensive validation\n\nNext: Phase 2 - CLI commands (attempted but CI blocking push)\n\nKnown Issues:\n- Pre-push hook blocking on CI failure from unrelated commit\n- Phase 2 (CLI) work completed but not pushed due to CI\n\nSuccessfully tested locally:\n- devloop tools list --by-type ‚úì\n- devloop tools available --type formatter ‚úì\n- Registry initialization ‚úì\n- Tool filtering ‚úì","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-08T16:33:40.315150342+13:00","updated_at":"2025-12-13T17:58:30.022370904+13:00","closed_at":"2025-12-13T17:58:30.022376024+13:00","dependencies":[{"issue_id":"claude-agents-brf","depends_on_id":"claude-agents-bfg","type":"blocks","created_at":"2025-12-08T16:33:49.605466725+13:00","created_by":"daemon"}]}
{"id":"claude-agents-by0","title":"Integrate CodeRabbit CLI installation into devloop setup","description":"When user selects CodeRabbit integration during 'devloop init' or 'ca amp-setup', automatically install and authenticate code-rabbit CLI tool if not present. Should verify CODE_RABBIT_API_KEY env var and configure auth if needed.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T13:08:21.8807888+13:00","updated_at":"2025-12-15T21:28:35.422914979+13:00","closed_at":"2025-12-15T21:28:35.422914979+13:00"}
{"id":"claude-agents-bym","title":"Update AGENTS.md release process for provider-agnostic workflow","description":"Update the Release Process section in AGENTS.md to reflect the new provider-agnostic ReleaseManager and CLI commands.\n\nCurrent state:\n- AGENTS.md Release Process section still has some GitHub/PyPI-specific details\n- Needs to document devloop release publish and devloop release check commands\n- Should reference PROVIDER_SYSTEM.md for multi-platform examples\n\nChanges needed:\n1. Replace GitHub-specific release steps with generic flow\n2. Show devloop release check and devloop release publish commands\n3. Document the pre-release checks that are now automated\n4. Link to PROVIDER_SYSTEM.md for custom provider setup\n5. Keep existing version bumping instructions but note it's provider-agnostic\n\nThis completes the documentation gap for the provider system subtask","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T22:47:07.287639559+13:00","updated_at":"2025-12-11T21:50:17.915688257+13:00","closed_at":"2025-12-11T21:50:17.915688257+13:00"}
{"id":"claude-agents-c3q","title":"Publish to PyPI test repository","description":"Create PyPI account and test token, publish to testpypi.python.org, verify package, install from test PyPI to validate","status":"blocked","priority":1,"issue_type":"task","created_at":"2025-11-30T13:44:21.599833786+13:00","updated_at":"2025-11-30T13:51:47.831228327+13:00","dependencies":[{"issue_id":"claude-agents-c3q","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.340644373+13:00","created_by":"daemon"}]}
{"id":"claude-agents-c85","title":"Integrate Code Rabbit CLI as Agent","description":"Add Code Rabbit as a devloop agent for code analysis and insights\n\n- Create CodeRabbitAgent wrapper class\n- Implement CLI integration (code-rabbit command)\n- Configure agent in .devloop/agents.json\n- Add findings to context store\n- Document setup and API key configuration\n- Test with sample files","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-30T13:12:40.930211446+13:00","updated_at":"2025-11-30T13:17:10.84396554+13:00","closed_at":"2025-11-30T13:17:10.84396554+13:00"}
{"id":"claude-agents-c8d","title":"PyPI tokens need to be configured in CI/deployment environment","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:51:47.86887704+13:00","updated_at":"2025-12-01T21:55:24.506300526+13:00","closed_at":"2025-12-01T21:55:24.506300526+13:00"}
{"id":"claude-agents-cbe","title":"Add Snyk configuration to agents.json","description":"Define triggers (file:save, git:pre-commit), API token env var, severity level filtering","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:13:00.882403159+13:00","updated_at":"2025-11-30T13:20:18.757795016+13:00","closed_at":"2025-11-30T13:20:18.757795016+13:00","dependencies":[{"issue_id":"claude-agents-cbe","depends_on_id":"claude-agents-7sd","type":"parent-child","created_at":"2025-11-30T13:13:08.880163742+13:00","created_by":"daemon"}]}
{"id":"claude-agents-cip","title":"Move *.sh scripts to scripts/bin/","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T21:10:59.945622233+13:00","updated_at":"2025-12-01T21:12:05.277223368+13:00","closed_at":"2025-12-01T21:12:05.277223368+13:00"}
{"id":"claude-agents-dyp","title":"Phase 1: Build pattern detector with thread-aware matching","description":"Implementation:\n- Create PatternDetector class\n- Support patterns:\n  * Frequency analysis (command repetition)\n  * Cross-thread analysis (repeated questions/patterns)\n  * Manual workaround detection (user fixing agent output)\n  * Time-series anomalies\n\n- Match against pattern definitions\n- Calculate severity/impact/confidence\n- Generate recommendations with thread references\n\nFiles:\n- src/devloop/core/pattern_analyzer.py (new)\n- src/devloop/core/pattern_detector.py (new)\n\nData:\n- Read: cli-actions.jsonl, amp-thread-log.jsonl, audit logs, telemetry\n- Correlate: user asked in Amp -\u003e agent did -\u003e user changed\n\nRelated docs:\n- See SELF_IMPROVEMENT_AGENT_ANALYSIS.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:52:59.066367189+13:00","updated_at":"2025-12-12T11:00:54.560559422+13:00","closed_at":"2025-12-12T11:00:54.560559422+13:00","dependencies":[{"issue_id":"claude-agents-dyp","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:59.068187265+13:00","created_by":"daemon"}]}
{"id":"claude-agents-e4r","title":"Create ProjectContext module for project detection","description":"Implement src/devloop/core/project_context.py with:\n- ProjectContext class\n- is_devloop_repository() - detect if in devloop source\n- get_test_root() - return appropriate test directory\n- get_exclude_patterns() - return patterns to exclude\n- get_project_type() - detect Python/JS/etc.\n\nDetection methods:\n1. Check pyproject.toml for name='devloop'\n2. Check git remote URL\n3. Check for .devloop-repository-marker file\n\nAdd unit tests for all detection methods.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:02:23.883638033+13:00","updated_at":"2025-12-15T20:43:25.671505462+13:00","closed_at":"2025-12-15T20:43:25.671505462+13:00"}
{"id":"claude-agents-ed0","title":"Agent Marketplace (v0.5.0)","description":"Build system for sharing custom agents with community - discovery, installation, ratings","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-11-30T12:00:29.856431084+13:00","updated_at":"2025-12-13T10:57:58.225512122+13:00"}
{"id":"claude-agents-emc","title":"Secure auto-fix with backups and rollback","description":"CRITICAL: Add pre-modification backups before any file changes. Create git-aware rollback (temp branch for fixes). Require explicit per-project opt-in. Document exactly what 'safe_only' means. Add comprehensive testing of all fix types. User should be able to review changes before applying.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T22:18:55.469321277+13:00","updated_at":"2025-12-07T13:21:54.879857377+13:00","closed_at":"2025-12-07T13:21:54.879857377+13:00"}
{"id":"claude-agents-ewy","title":"Make DevLoop CI/CD system agnostic with pluggable provider support","description":"Problem:\nDevLoop currently has hard dependencies on GitHub Actions, PyPI, GitHub CLI, and GitHub-specific workflows. This limits adoption by teams using GitLab CI, Jenkins, Bitbucket Pipelines, or other CI systems.\n\n‚úÖ COMPLETED:\n1. ‚úÖ CI Provider abstraction layer - CIProvider base class + GitHub implementation\n2. ‚úÖ Package Registry abstraction - PackageRegistry base class + PyPI implementation  \n3. ‚úÖ CI Monitor Agent refactoring - Now uses provider system\n4. ‚úÖ Pre-push hook refactoring - Uses provider-based pre_push_check.py\n5. ‚úÖ Configuration system - providers config in agents.json\n8. ‚úÖ Testing - test_providers.py with mock providers\n\n‚è≥ IN PROGRESS / REMAINING:\n6. Release workflow abstraction (claude-agents-v3u) - Generic publish/tag process\n7. Additional providers - GitLab CI, Jenkins (future)\n7. Documentation \u0026 examples - Migration guides for GitLab, Jenkins\n\nNext steps:\n- Implement release_manager.py for generic releases\n- Add GitLab CI provider (community contribution ready)\n- Add Jenkins provider (community contribution ready)\n- Create migration guides for other platforms","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2025-12-09T16:45:57.95147062+13:00","updated_at":"2025-12-10T22:28:49.961451106+13:00"}
{"id":"claude-agents-f7y","title":"Add DORA metrics analysis from git/CI history","description":"Create tools to analyze git history and CI/CD data for DORA metrics calculation and before/after DevLoop comparison.\n\nTools to implement:\n1. devloop analyze git-history --since DATE\n   - Commit frequency\n   - PR cycle time (creation to merge)\n   - Revert frequency\n   - Bug fix commit patterns\n\n2. devloop analyze ci-impact --before DATE --after DATE\n   - CI success rate comparison\n   - CI duration trends\n   - Re-run frequency\n   - Failed build reasons\n\n3. devloop analyze dora --devloop-start DATE\n   - Deployment frequency (from git tags)\n   - Lead time for changes (commit ‚Üí merge ‚Üí deploy)\n   - Change failure rate (CI failures, rollbacks)\n   - Time to restore (requires manual incident data)\n\n4. devloop report roi --period PERIOD\n   - Comprehensive ROI report\n   - Time savings calculation\n   - Quality improvements\n   - Export as PDF/HTML\n\nData sources:\n- git log (commit history, tags)\n- gh CLI (GitHub Actions, PRs, issues)\n- .devloop/events.jsonl (DevLoop metrics)\n\nExample output:\nDORA Metrics Comparison\n========================================\nDeployment Frequency:\n  Before DevLoop: 1.2 deploys/day\n  After DevLoop:  2.8 deploys/day\n  Change: +133%\n\nLead Time:\n  Before: 18.5 hours\n  After:  12.3 hours\n  Change: -33.5%\n\nCI Success Rate:\n  Before: 67.8%\n  After:  94.2%\n  Change: +26.4pp\n\nTarget: v0.5.0","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T21:31:34.392949294+13:00","updated_at":"2025-12-13T18:40:06.570867433+13:00","closed_at":"2025-12-13T18:40:06.570867433+13:00"}
{"id":"claude-agents-fg0","title":"Ensure .devloop directory has proper write permissions on initialization","description":"During devloop init/setup, the .devloop directory and its subdirectories (context, etc) should be created with writable permissions (0o755 or 0o775). Currently permissions errors occur because .devloop is created but not explicitly chmod'd to be writable. This affects agents' ability to log telemetry and write to event store.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T13:10:06.843482891+13:00","updated_at":"2025-12-15T21:29:02.74899812+13:00","closed_at":"2025-12-15T21:29:02.74899812+13:00"}
{"id":"claude-agents-fkw","title":"Reorganize the tests/ directory","description":"The root  directory is cluttered with over 25 test files, making it difficult to navigate. Create a new  subdirectory and move the integration-style and feature-level tests (e.g., , , etc.) into it. This will make the test suite's structure cleaner and more intuitive.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:24:32.21479344+13:00","updated_at":"2025-12-16T13:42:52.915592852+13:00","closed_at":"2025-12-16T13:42:52.915592852+13:00"}
{"id":"claude-agents-g56v","title":"Fix flaky test: test_performance_optimizer","description":"Test fails intermittently during full test suite runs but passes when run individually. Likely timing or test isolation issue. Failed during pre-commit hook at tests/unit/core/test_learning_and_feedback.py::TestFeedbackAndPerformance::test_performance_optimizer","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T14:35:17.03804496+13:00","updated_at":"2026-01-08T14:34:03.128626916+13:00","closed_at":"2026-01-08T14:34:03.128626916+13:00"}
{"id":"claude-agents-g5o","title":"Review Claude Code hooks implementation against native capabilities","description":"Completed review identifies gap: current implementation is CLI-only (manual /verify-work commands) while Claude Code provides native hook events (SessionStart, Stop, SubagentStop, PreToolUse) for automatic verification.\n\nKey findings:\n- 5 hook events available but not implemented\n- Architecture misalignment with Git/Amp workflows  \n- Missing automatic verification at lifecycle points\n- File protection not implemented (.beads/, .devloop/)\n\nDeliverables completed:\n- CLAUDE_CODE_HOOKS_REVIEW.md (main analysis)\n- CLAUDE_CODE_HOOKS_IMPLEMENTATION.md (technical plan with code)\n- .amp/claude_code_hooks_findings.md (executive summary)\n- .amp/CLAUDE_CODE_HOOKS_CHECKLIST.md (task checklist)\n- .amp/HOOKS_REVIEW_INDEX.md (document index)\n\nRecommendation: Implement Phase 1 (SessionStart + Stop + PreToolUse hooks) for ~2 hours to align with Git/Amp patterns.\n\nRisk: Low (non-blocking, additive, backward compatible)\nBenefit: High (consistency, reduced friction, automatic verification)","notes":"Review analysis complete. Documents created and ready for implementation decision. See Phase 1 (P1), Phase 2 (P2), and Phase 3 (P3) implementation tasks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T22:33:50.223880444+13:00","updated_at":"2025-12-09T22:34:24.221978631+13:00","closed_at":"2025-12-09T22:34:24.22198546+13:00"}
{"id":"claude-agents-g9w","title":"Implement Phase 2A: Interactive optional agent selection in devloop init","description":"Add interactive prompts to 'devloop init' command to let users select which optional agents (code-rabbit, snyk, ci-monitor) to enable. Update pyproject.toml with extras groups. Enhance install.sh with interactive menu.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T09:53:03.163697693+13:00","updated_at":"2025-12-04T10:13:46.095130902+13:00","closed_at":"2025-12-04T10:13:46.095130902+13:00"}
{"id":"claude-agents-gdz","title":"Move test_*.py files to scripts/tests/","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T21:10:59.745993023+13:00","updated_at":"2025-12-01T21:12:05.144598018+13:00","closed_at":"2025-12-01T21:12:05.144598018+13:00"}
{"id":"claude-agents-h78","title":"Implement config schema versioning and migration","description":"Add config schema version field. Implement migration system for config changes. Validate config at startup (fail fast). Document all config options. Test migrations across versions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:13.372008813+13:00","updated_at":"2025-12-12T21:06:18.290257215+13:00","closed_at":"2025-12-12T21:06:18.290257215+13:00"}
{"id":"claude-agents-hc9","title":"Add disclaimer/context for unverified metrics","description":"The README contains several specific numerical claims that haven't been empirically validated:\n- '90%+ of CI failures caught locally'\n- '60%+ CI cost reduction'\n- '75-90 min saved per developer per day'\n- '6-8 CI failures per day' baseline\n\nWhile these are reasonable estimates, they lack empirical backing. Options:\n\nOption 1 (Conservative): Add footnote context\n- 'Based on theoretical calculations. Actual results vary.'\n- Link to methodology documentation\n\nOption 2 (Aspirational): Frame as goals\n- Change 'Reduce CI costs by 60%+' to 'Target: Reduce CI costs by 60%+'\n- Add 'Expected results based on typical development workflows'\n\nOption 3 (Evidence-driven): Wait for data\n- Implement telemetry first (claude-agents-XXX)\n- Update claims with real data after collecting metrics\n\nRecommended: Start with Option 1 (conservative disclaimers), then move to Option 3 once we have data.\n\nFile to update: README.md lines 43, 47, 131, 141-143","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T11:35:28.57092471+13:00","updated_at":"2025-12-13T18:13:25.610389655+13:00","closed_at":"2025-12-13T18:13:25.610389655+13:00","dependencies":[{"issue_id":"claude-agents-hc9","depends_on_id":"claude-agents-79p","type":"blocks","created_at":"2025-12-09T11:35:28.654861939+13:00","created_by":"daemon"},{"issue_id":"claude-agents-hc9","depends_on_id":"claude-agents-4ej","type":"related","created_at":"2025-12-09T11:35:28.698313761+13:00","created_by":"daemon"}]}
{"id":"claude-agents-hhi","title":"Phase 2: Create /agent-insights command with thread context","description":"Implementation:\n- Create CLI command: devloop insights\n- Show detected patterns with thread references\n- Display: pattern name, severity, evidence (thread IDs), recommendation\n- Format as table or JSON\n- Support filters: --agent, --severity, --thread\n\nOutput example:\nPattern: user_manual_fix_after_agent\nSeverity: medium\nEvidence: T-xxx, T-yyy, T-zzz (3 occurrences)\nMessage: User manually applied formatting fix instead of auto-fix\n\nFiles:\n- src/devloop/cli/commands/insights.py (new)\n- Integrate with pattern detector\n\nRelated docs:\n- See SELF_IMPROVEMENT_AGENT_ANALYSIS.md","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-12T10:52:59.157439238+13:00","updated_at":"2025-12-12T13:03:00.552932511+13:00","dependencies":[{"issue_id":"claude-agents-hhi","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:59.159043363+13:00","created_by":"daemon"}]}
{"id":"claude-agents-hmm","title":"Investigate 6 performance issues","description":"DevLoop identified 6 potential performance improvement(s):\n\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: init (complexity: 58)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: watch_async (complexity: 31)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: verify_work (complexity: 10)\n\n...and 3 more\n\nConsider these optimizations in your next refactoring.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T00:31:54.838011218+13:00","updated_at":"2025-12-16T13:44:49.301129637+13:00","closed_at":"2025-12-16T13:44:49.301129637+13:00"}
{"id":"claude-agents-i38","title":"Performance metrics cleanup rewrites entire file after every metric write","description":"PerformanceMonitor._cleanup_old_metrics() (line 354-377) loads entire metrics.jsonl file, filters old entries, and rewrites the entire file. This happens after EVERY metric write.\n\nImpact: O(n) I/O and CPU cost per metric write, scales with file size\nRisk: Performance degradation as metrics accumulate (30-day retention means constantly growing file)\n\nSuggested fix: Use append-only with periodic background cleanup, or use SQLite for metrics","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-09T15:52:23.400193888+13:00","updated_at":"2025-12-09T16:28:46.229259692+13:00","closed_at":"2025-12-09T16:28:46.229259692+13:00"}
{"id":"claude-agents-i5h","title":"Add event persistence and replay","description":"Persist events to durability store to prevent loss on daemon crash. Implement replay on recovery to catch missed file changes. Add sequence numbers to detect gaps in event stream.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:07.106977924+13:00","updated_at":"2025-12-13T17:25:05.161112246+13:00","closed_at":"2025-12-13T17:25:05.161112246+13:00"}
{"id":"claude-agents-ia4","title":"Create automated version bump script","description":"Create scripts/bump-version.py script that updates version in all locations at once.\n\nThis makes version bumping foolproof by updating all files atomically.\n\nImplementation:\n- Create scripts/ directory if not exists\n- Create scripts/bump-version.py with:\n  - Command-line argument for new version\n  - Regex patterns to update pyproject.toml and __init__.py\n  - Validation of version format\n  - Print summary of updated files\n  - Show next steps (git add, commit, tag, push)\n- Make script executable (chmod +x)\n- Add usage documentation to README\n\nUsage: python scripts/bump-version.py 0.3.4\n\nFiles to create:\n- scripts/bump-version.py (new)\n\nExpected result:\nSingle command updates version in both locations consistently.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T23:18:00.738504379+13:00","updated_at":"2025-12-09T00:06:15.504175357+13:00","closed_at":"2025-12-09T00:06:15.504175357+13:00"}
{"id":"claude-agents-ivl","title":"Implement dynamic version reading from package metadata","description":"Make pyproject.toml the single source of truth by reading version dynamically from installed package metadata.\n\nThis eliminates manual version duplication entirely.\n\nImplementation:\n- Update src/devloop/__init__.py to use importlib.metadata.version()\n- Read version from installed package (which comes from pyproject.toml)\n- Add fallback for development environment (0.0.0.dev)\n- Test in both installed and development scenarios\n- Update tests if needed to handle dynamic version\n\nPros:\n- True single source of truth\n- No manual synchronization needed\n- Standard Python best practice\n\nCons:\n- Requires package to be installed (not an issue for production)\n- Version shows as 0.0.0.dev in editable installs\n\nFiles to modify:\n- src/devloop/__init__.py (use importlib.metadata)\n\nTarget: v0.4.0 (after other solutions are proven)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T23:18:01.307237489+13:00","updated_at":"2025-12-10T14:37:09.599817892+13:00","closed_at":"2025-12-10T14:37:09.599817892+13:00"}
{"id":"claude-agents-j3s","title":"Agent Marketplace: User ratings and reviews system","description":"Implement user rating system (1-5 stars). Add review mechanism with comments. Track download counts and popularity metrics. Create  command. Display aggregate ratings in search results.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:28.809026706+13:00","updated_at":"2025-12-13T16:04:24.981435498+13:00","closed_at":"2025-12-13T16:04:24.981435498+13:00","dependencies":[{"issue_id":"claude-agents-j3s","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:28.816131474+13:00","created_by":"daemon"}]}
{"id":"claude-agents-j8g","title":"Enforce resource limits (CPU/memory) on agents","description":"Monitor and enforce maxCpu and maxMemory limits from config. Throttle/pause agents that exceed limits. Add per-agent resource tracking to performance monitor.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:18:50.871409907+13:00","updated_at":"2025-12-07T23:27:19.595186547+13:00","closed_at":"2025-12-07T23:27:19.595186547+13:00"}
{"id":"claude-agents-ja4","title":"Phase 5: Async background processing - Non-blocking post-task hook","description":"Move findings extraction to background to unblock task completion.\n\nSCOPE:\n- Implement background async findings extraction\n- Update post-task hook to not wait for extraction\n- Handle background job supervision\n- Log background extraction status\n\nIMPLEMENTATION:\n1. Background job handling:\n   - Spawn async-findings-extractor in background (\u0026)\n   - Store PID in .devloop/bg-jobs/{pid}.json\n   - Non-blocking return from post-task hook\n\n2. Error handling:\n   - Trap on job failure\n   - Log errors to .devloop/bg-extraction-errors.log\n   - Do NOT block task (already moved on)\n   - Alert developer asynchronously (next Amp message)\n\n3. Cleanup:\n   - Monitor bg-jobs directory\n   - Clean finished jobs (check if PID still running)\n   - Auto-cleanup on .agents/cleanup-bg-jobs\n\n4. Logging:\n   - Track all background jobs in .devloop/bg-jobs.log\n   - Include: start time, PID, status, completion time\n   - Use for monitoring and debugging\n\nTESTING:\n- Post-task hook returns immediately (~30s)\n- Findings still extracted in background\n- Monitor background job with ps\n- Test job failure handling\n- Verify findings appear in .beads/issues.jsonl\n\nDEFINITION OF DONE:\n- Background extraction implemented\n- Post-task hook returns immediately\n- Findings still extracted (async)\n- Error logging working\n- Time: post-task 3-4min ‚Üí 30s (90% improvement!)\n\nBLOCKERS:\n- Depends on Phase 1 \u0026 2\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md for full context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:20:56.985800237+13:00","updated_at":"2025-12-12T19:08:28.544193082+13:00","closed_at":"2025-12-12T19:08:28.544197441+13:00","dependencies":[{"issue_id":"claude-agents-ja4","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:20:56.98701579+13:00","created_by":"daemon"}]}
{"id":"claude-agents-jty","title":"Graceful Amp integration degradation","description":"Gracefully handle when Amp unavailable. Clear error messages if integration fails. Implement optional Amp support (works without it). Test devloop in standalone mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:32.030061621+13:00","updated_at":"2025-12-13T18:04:31.761229057+13:00","closed_at":"2025-12-13T18:04:31.761229057+13:00"}
{"id":"claude-agents-k6f","title":"Test end-to-end CodeRabbit code review scanning","description":"Create comprehensive test suite to verify CodeRabbit agent correctly scans Python/JS/TS files, reports code quality issues with proper severity, and integrates findings into context store. Test with intentional code quality issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:08:22.172663447+13:00","updated_at":"2025-12-16T13:53:17.942894742+13:00","closed_at":"2025-12-16T13:53:17.942894742+13:00"}
{"id":"claude-agents-kjb","title":"Implement 4-layer CI defense system against breakages","description":"‚úÖ COMPLETED\n\nAnalyzed how CI breakages slip through devloop and implemented comprehensive 4-layer defense:\n\n**Layer 1: IDE/Agent Auto-Fixing**\n- Changed .devloop/agents.json mode from 'report-only' to 'fix-mode'\n- Enabled autoStageFixedFiles for automatic staging\n\n**Layer 2: Pre-Commit Auto-Fixing**\n- Rewrote .git/hooks/pre-commit to auto-fix Black and Ruff issues\n- Auto-stages fixed files before commit\n- Blocks only on non-auto-fixable issues\n\n**Layer 3: Pre-Push Comprehensive Validation**\n- Rewrote .git/hooks/pre-push to validate current code\n- Runs format, lint, type, test checks\n- Includes retry logic for flaky tests\n- 4-6x faster feedback than relying on CI status\n\n**Layer 4: CI Fail-Fast**\n- Added format-check job to .github/workflows/ci.yml\n- Other jobs depend on format-check\n- Reduces feedback time from 10+ min to 2-3 min\n\n**Root Causes Identified:**\n1. Global mode 'report-only' prevented formatter agent from fixing\n2. Pre-commit hook only checked, didn't fix\n3. Pre-push hook validated old CI status, not current code\n4. CI jobs ran sequentially with no fail-fast\n5. No integration between components\n\n**Documentation Created:**\n- .devloop/CI_BREAKAGE_ANALYSIS.md - Root cause analysis\n- .devloop/CI_TIGHTENING_IMPLEMENTATION.md - Implementation details\n- .devloop/CI_IMPROVEMENTS_SUMMARY.md - Benefits and workflows\n- .devloop/DEVLOOP_TIGHTENING_ANALYSIS.md - Detection methodology\n\n**Tests:**\n- Pre-commit auto-fixing verified ‚úÖ\n- Pre-push comprehensive validation verified ‚úÖ\n- CI fail-fast structure verified ‚úÖ\n\nCommits:\n- e9d1ce9: Tighten DevLoop system with 4-layer defense\n- 7ce7833: Add comprehensive CI improvements documentation\n","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T21:37:01.27479832+13:00","updated_at":"2025-12-11T21:37:03.420925542+13:00","closed_at":"2025-12-11T21:37:03.420925542+13:00"}
{"id":"claude-agents-kje","title":"Test Code Rabbit agent end-to-end","description":"Create test file with known issues, run CodeRabbitAgent, verify findings appear in context store and summary","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:12:49.979214646+13:00","updated_at":"2025-11-30T13:17:10.815944376+13:00","closed_at":"2025-11-30T13:17:10.815944376+13:00","dependencies":[{"issue_id":"claude-agents-kje","depends_on_id":"claude-agents-c85","type":"parent-child","created_at":"2025-11-30T13:12:52.505743467+13:00","created_by":"daemon"}]}
{"id":"claude-agents-klo","title":"Test Context Separation: Separate devloop tests from user project tests","description":"Epic: Implement project context detection and test discovery separation so devloop's own tests only run when developing devloop, and user project tests run when using devloop in other projects.\n\nKey goals:\n- Auto-detect devloop repository vs user projects\n- Configure test paths and exclusion patterns\n- Update test-runner agent with context awareness\n- Ensure site-packages tests are excluded in user projects\n- Maintain 100% backward compatibility\n\nSee TEST_CONTEXT_SEPARATION_PLAN.md for full details.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-14T16:02:15.211040876+13:00","updated_at":"2025-12-14T16:19:07.641048188+13:00","closed_at":"2025-12-14T16:19:07.641048188+13:00"}
{"id":"claude-agents-kro","title":"Implement AGENTS.md template distribution system for devloop init","description":"Problem:\n- We just added Release Process docs to root AGENTS.md\n- But root AGENTS.md is NOT distributed by 'devloop init' in other projects\n- Only devloop_agents_template.md gets injected\n- Future devloop updates won't reach projects already using devloop\n\nCurrent Status:\n‚úÖ PARTIALLY IMPLEMENTED:\n- devloop_agents_template.md exists (src/devloop/cli/templates/)\n- devloop init checks for missing sections and injects merge instructions\n- Beads task management section is in template\n\n‚ùå MISSING FROM TEMPLATE (not distributed to projects):\n1. Pre-Flight Development Checklist (Pre-Flight Checklist section)\n2. CI Verification (Pre-Push Hook) \n3. Documentation Practices (CRITICAL)\n4. Publishing \u0026 Security Considerations\n5. Release Process (all subsections)\n6. Configuration (Log Rotation, Agents Configuration)\n7. Security \u0026 Privacy\n8. Success Metrics\n9. Future Considerations\n10. Overview, Core Principles, System Architecture, Agent Categories (background context)\n\nDesign needed:\n1. Add missing sections to devloop_agents_template.md\n2. Consider: which sections are project-agnostic vs devloop-specific?\n   - Release Process: mostly generic (works with any CI/registry)\n   - Pre-Flight Checklist: generic template\n   - Documentation Practices: generic\n   - Security: generic token/secrets guidance\n3. Update devloop init to check for these additional sections\n4. Support smart merging to avoid duplicates (as mentioned in claude-agents-z9w)\n5. Document how to keep AGENTS.md in sync across projects\n\nRelated issues:\n- claude-agents-z9w (agent-scoped configuration files with intelligent merge)\n- claude-agents-mo4 (pre-flight checklist - should be in template)\n\nThis ensures that improvements to AGENTS.md (release process, checklists, etc.) automatically reach all devloop users when they upgrade.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-09T16:42:57.697856412+13:00","updated_at":"2025-12-13T21:38:08.820857154+13:00","closed_at":"2025-12-13T21:38:08.820857154+13:00"}
{"id":"claude-agents-kvw","title":"Implement transaction semantics for agent operations","description":"Add atomic file operations (write to temp, atomic rename). Implement checksums for stored data. Add recovery procedure for crashed operations. Implement self-healing mechanisms (checksum verification on startup).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:04.398779574+13:00","updated_at":"2025-12-12T21:39:19.472000058+13:00","closed_at":"2025-12-12T21:39:19.472000058+13:00"}
{"id":"claude-agents-l16","title":"Improve README value proposition and user experience","description":"Improve README to better communicate value, highlight NFRs, and guide users through adoption.\n\nKey improvements:\n1. Add 'Why DevLoop?' section with problem statement\n2. Highlight non-functional requirements (performance, reliability, safety)\n3. Show before/after examples and real output\n4. Quantify benefits (time saved, issues prevented)\n5. Add comparison table (vs CI-only, vs pre-commit hooks)\n6. Reorganize for user journey (problem ‚Üí solution ‚Üí quick win)\n7. Add trust signals section\n8. Balance alpha warning with stability info\n\nExpected outcome:\n- Clearer value proposition\n- Better user onboarding\n- Increased adoption confidence\n\nReferences:\n- Current README at line 1-755\n- Performance metrics buried at line 649\n- Missing problem statement and differentiation","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T21:30:41.474709673+13:00","updated_at":"2025-12-09T09:35:10.146078133+13:00","closed_at":"2025-12-09T09:35:10.146078133+13:00"}
{"id":"claude-agents-lif","title":"Review: System verification and health checks (from SYSTEM_VERIFICATION.md)","description":"Added agent health check to CI pipeline. Health check script already exists (scripts/check_agent_health.py), checks: context store initialization, linter instantiation, issue detection, persistence, summary generation, log file creation. Integrated into CI workflow as health-check job that runs after tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T09:53:08.200864571+13:00","updated_at":"2025-12-12T18:12:24.230278506+13:00","closed_at":"2025-12-12T18:12:24.230278506+13:00"}
{"id":"claude-agents-lin","title":"Investigate 6 performance issues","description":"DevLoop identified 6 potential performance improvement(s):\n\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: init (complexity: 58)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: watch_async (complexity: 31)\n- /home/wioot/dev/claude-agents/src/devloop/cli/main.py: High complexity function: verify_work (complexity: 10)\n\n...and 3 more\n\nConsider these optimizations in your next refactoring.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T00:32:31.601657883+13:00","updated_at":"2025-12-15T00:32:41.328945686+13:00","closed_at":"2025-12-15T00:32:41.328945686+13:00"}
{"id":"claude-agents-mdt","title":"Add per-agent performance tuning knobs","description":"Add per-agent debounce timings, sampling rate, batch size config options. Document performance trade-offs. Implement adaptive throttling. Add tuning guide for slow systems.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:25.515797171+13:00","updated_at":"2025-12-13T18:02:51.068269153+13:00","closed_at":"2025-12-13T18:02:51.068269153+13:00"}
{"id":"claude-agents-mo4","title":"Update AGENTS.md with pre-flight development checklist","description":"Add section to AGENTS.md documenting:\n- Pre-flight checklist (format, lint, test)\n- Why formatting debt causes cascading failures\n- Best practice: format entire codebase at session start\n- Reference the preflight.sh script when created\n\nKeep developers aware of the pattern to avoid Black issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:00:57.774936742+13:00","updated_at":"2025-12-13T18:15:53.791339122+13:00","closed_at":"2025-12-13T18:15:53.791339122+13:00"}
{"id":"claude-agents-nb9","title":"Phase 1: Deduplication - Create unified check script with caching","description":"Eliminate duplicate checks across pre-commit/pre-push/post-task hooks.\n\nSCOPE:\n- Create .agents/verify-all unified check script\n- Add result caching with file hash tracking\n- Update pre-commit hook to use verify-all\n- Update pre-push hook to use verify-all\n- Update post-task hook to use verify-all\n\nIMPLEMENTATION:\n1. Create verify-all script:\n   - Compute hash of staged changes\n   - Check if cached result exists and is valid\n   - If not cached, run all checks (format, lint, type, test)\n   - Cache result with hash as key\n   - Return exit code + summary\n\n2. Add caching layer:\n   - Store in .devloop/check-cache/{hash}.result\n   - Track timestamp for cache age\n   - Auto-cleanup old cache entries (\u003e24h)\n\n3. Update all hooks:\n   - Replace individual check calls with verify-all\n   - Pass context (pre-commit vs pre-push vs post-task)\n   - Handle cached vs fresh results appropriately\n\nTESTING:\n- Test single file commit: should pass through verify-all\n- Test repeated commit: should use cache (5s vs 4min)\n- Test file change: should invalidate cache\n- Test all three hooks use same cache\n\nDEFINITION OF DONE:\n- verify-all script created and tested\n- All three hooks use verify-all consistently\n- Cache working and validated\n- Time: pre-commit 4-5min ‚Üí 3-4min (25% improvement)\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md for full context.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:20:28.201332941+13:00","updated_at":"2025-12-12T18:57:07.031490999+13:00","closed_at":"2025-12-12T18:57:07.031490999+13:00","dependencies":[{"issue_id":"claude-agents-nb9","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:20:28.204341426+13:00","created_by":"daemon"}]}
{"id":"claude-agents-njt","title":"Fix broken documentation links in README.md","description":"README.md references 17 documentation files in docs/ directory that don't exist:\n\nMissing files:\n- docs/cli-commands.md\n- docs/UPGRADE_GUIDE.md\n- docs/architecture.md\n- docs/MARKETPLACE_API.md\n- docs/PROVIDER_SYSTEM.md\n- docs/TOKEN_SECURITY.md\n- docs/configuration.md\n- docs/testing.md\n- docs/development.md\n- docs/getting-started.md\n- docs/AGENT_DEVELOPMENT.md\n- docs/AGENT_API_REFERENCE.md\n- docs/AGENT_EXAMPLES.md\n- docs/AGENT_TROUBLESHOOTING.md\n- docs/MARKETPLACE_GUIDE.md\n- docs/troubleshooting.md\n- docs/PYODIDE_INSTALLATION.md\n- docs/METRICS_AND_MONITORING.md\n\nOptions:\n1. Create docs/ directory with proper documentation\n2. Update README to remove broken links\n3. Create stubs that point to existing docs where applicable\n\nRecommend: Create proper documentation structure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T15:52:38.563612048+13:00","updated_at":"2025-12-15T16:14:39.316225772+13:00","closed_at":"2025-12-15T16:14:39.316225772+13:00"}
{"id":"claude-agents-noa","title":"Agent Marketplace: Documentation and tutorials","description":"Write guide for agent authors. Document agent development patterns. Create examples (simple, medium, advanced). Document best practices. Add troubleshooting guide for common issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:48:38.220016721+13:00","updated_at":"2025-12-13T17:02:34.471325921+13:00","closed_at":"2025-12-13T17:02:34.471325921+13:00","dependencies":[{"issue_id":"claude-agents-noa","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:38.22757349+13:00","created_by":"daemon"}]}
{"id":"claude-agents-oh4","title":"Refactor init() function to reduce complexity from 58","description":"The init() function in src/devloop/cli/main.py has a cyclomatic complexity of 58 (Grade F). This should be refactored by:\n1. Extracting prerequisite checking into separate functions\n2. Moving initialization steps into helper methods\n3. Separating concerns (file operations, config, hooks setup)\n4. Consider using a builder pattern or initialization chain\n\nFile: src/devloop/cli/main.py:615","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-16T13:44:03.125961149+13:00","updated_at":"2026-01-08T16:43:00.64771399+13:00","closed_at":"2026-01-08T16:43:00.64771399+13:00"}
{"id":"claude-agents-ojn","title":"Update installation documentation for PyPI","description":"Update README with pip install devloop, add version badge, update quick start to use pip instead of git clone","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:44:30.202184721+13:00","updated_at":"2025-12-01T21:56:47.618497016+13:00","closed_at":"2025-12-01T21:56:47.618497016+13:00","dependencies":[{"issue_id":"claude-agents-ojn","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.4883375+13:00","created_by":"daemon"}]}
{"id":"claude-agents-om9","title":"Move phase completion docs to docs/completed/","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T21:11:00.074584913+13:00","updated_at":"2025-12-01T21:12:05.371861648+13:00","closed_at":"2025-12-01T21:12:05.371861648+13:00"}
{"id":"claude-agents-pun","title":"Restore missing documentation files and fix README broken links","description":"README.md references ~20 documentation files that were deleted in commit 1e06145. Need to:\n\n1. Restore deleted docs/ files from git history (commit aaa2ae9):\n   - UPGRADE_GUIDE.md\n   - AGENT_DEVELOPMENT.md\n   - AGENT_API_REFERENCE.md\n   - AGENT_EXAMPLES.md\n   - AGENT_TROUBLESHOOTING.md\n   - MARKETPLACE_GUIDE.md\n   - And others\n\n2. Verify all links in README.md point to existing files\n\n3. Update any outdated content from AGENTS.md that should be in docs/\n\nBroken links in README:\n- docs/UPGRADE_GUIDE.md (line 97, 425, 1478)\n- docs/PYODIDE_INSTALLATION.md (line 249)\n- docs/cli-commands.md (line 386)\n- docs/architecture.md (line 457)\n- docs/agents.md (line 498)\n- docs/MARKETPLACE_API.md (line 619)\n- docs/PROVIDER_SYSTEM.md (line 924)\n- docs/TOKEN_SECURITY.md (line 1000)\n- docs/configuration.md (line 1002)\n- docs/testing.md (line 1214)\n- docs/development.md (line 1258)\n- docs/getting-started.md (line 1279)\n- docs/AGENT_DEVELOPMENT.md (line 1285)\n- docs/AGENT_API_REFERENCE.md (line 1286)\n- docs/AGENT_EXAMPLES.md (line 1287)\n- docs/AGENT_TROUBLESHOOTING.md (line 1288)\n- docs/MARKETPLACE_GUIDE.md (line 1291)\n- docs/troubleshooting.md (line 1374)\n- docs/METRICS_AND_MONITORING.md (line 1480)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T18:50:08.366447763+13:00","updated_at":"2025-12-13T18:53:02.609277685+13:00","closed_at":"2025-12-13T18:53:02.609277685+13:00"}
{"id":"claude-agents-pyv","title":"Add repository marker file","description":"Create .devloop-repository-marker file in repo root to mark this as devloop source repository.\n\nActions:\n- Create marker file with content\n- Ensure it's tracked in git (not ignored)\n- Update devloop's .devloop/agents.json with devloopDevelopment: true","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:02:37.083076277+13:00","updated_at":"2025-12-14T16:10:10.635545456+13:00","closed_at":"2025-12-14T16:10:10.635545456+13:00","dependencies":[{"issue_id":"claude-agents-pyv","depends_on_id":"claude-agents-klo","type":"parent-child","created_at":"2025-12-14T16:02:37.09066794+13:00","created_by":"daemon"}]}
{"id":"claude-agents-q26","title":"Telemetry logger loads 10k events into memory for stats calculation","description":"TelemetryLogger.get_stats() (line 291) calls get_events(limit=10000) which loads all events from JSONL into memory. File has no rotation/retention policy.\n\nImpact: Memory spikes when stats are requested, especially as event log grows\nRisk: Unbounded file growth (no cleanup implemented unlike audit/performance logs)\n\nSuggested fix: Pre-aggregate stats or use streaming JSON parser","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-09T15:52:19.991984005+13:00","updated_at":"2025-12-09T16:28:46.172443086+13:00","closed_at":"2025-12-09T16:28:46.172443086+13:00"}
{"id":"claude-agents-qp9","title":"Document multi-project setup and workspace support","description":"Document single vs multi-project scenarios. Add workspace-level configuration. Implement coordination if needed. Clarify resource sharing across projects. Test with multiple concurrent projects.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T22:19:22.39059599+13:00","updated_at":"2025-12-13T18:01:57.642095378+13:00","closed_at":"2025-12-13T18:01:57.642095378+13:00"}
{"id":"claude-agents-qw9","title":"Equalize Git and Amp hooks - ensure consistent verification across both systems","description":"Problem:\nGit hooks (.git/hooks/) and Amp hooks (.agents/hooks/) have inconsistent verification and integration logic:\n\n**Git Hooks:**\n- pre-commit: validates poetry.lock sync, version consistency, runs type/test checks, flushes beads\n- pre-push: verifies CI passes, extracts DevLoop findings to beads\n- Both comprehensive and complete\n\n**Amp Hooks:**\n- post-task: only calls verify-task-complete (minimal checks)\n- No CI verification\n- No findings extraction\n\n**Gaps:**\n1. Amp tasks don't run full pre-commit validation\n2. Amp tasks don't verify CI status\n3. DevLoop findings extraction not integrated with Amp workflow\n4. extract-findings-to-beads script duplicated (in both git pre-push and agent hooks)\n\n**Solution:**\n1. Create unified verification script that both systems use\n2. Have post-task hook run same checks as pre-commit\n3. Integrate findings extraction into Amp's post-task workflow\n4. Consolidate extract-findings logic to single source\n5. Document both systems now reference same verification\n\n**Files to modify:**\n- .git/hooks/pre-commit - extract common logic\n- .git/hooks/pre-push - keep CI verification specific to git\n- .agents/hooks/post-task - call unified verification + findings extraction\n- .agents/hooks/extract-findings-to-beads - reuse in both contexts\n- AMP_ONBOARDING.md - document equivalence\n\n**Testing:**\n- Verify post-task hook runs same checks as pre-commit\n- Verify CI status checking works in Amp context\n- Verify findings extraction happens after Amp task completion\n- Test with both git and Amp workflows","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T16:51:54.140487754+13:00","updated_at":"2025-12-09T16:59:10.072031461+13:00","closed_at":"2025-12-09T16:59:10.072031461+13:00"}
{"id":"claude-agents-r2s","title":"Test Snyk agent end-to-end","description":"Create vulnerable test file, run SnykAgent, verify security findings appear in context store with correct severity","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:13:05.641327376+13:00","updated_at":"2025-11-30T13:21:31.984108569+13:00","closed_at":"2025-11-30T13:21:31.984108569+13:00","dependencies":[{"issue_id":"claude-agents-r2s","depends_on_id":"claude-agents-7sd","type":"parent-child","created_at":"2025-11-30T13:13:08.954889413+13:00","created_by":"daemon"}]}
{"id":"claude-agents-r9x","title":"Phase 0: Create Amp thread mapper (amp-thread-log.jsonl)","description":"Implementation:\n- Create AmpThreadMapper class\n- Map CLI actions to Amp thread context\n- Track: thread_id -\u003e agent_actions -\u003e user_manual_actions\n- Detect: which manual actions followed which agent actions\n- Store in .devloop/amp-thread-log.jsonl\n\nData structure:\n{\n  timestamp, thread_id, thread_url, user_prompt,\n  agent_actions: [{action, command, output, timestamp}],\n  user_manual_actions: [{action, description, time_after_agent_action}],\n  insights: [{pattern, severity, message}]\n}\n\nFiles:\n- src/devloop/core/amp_thread_mapper.py (new)\n- Integrate with action_logger.py\n\nRelated docs:\n- See AMP_THREAD_INTEGRATION_PLAN.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:52:58.894826255+13:00","updated_at":"2025-12-12T10:55:38.896640866+13:00","closed_at":"2025-12-12T10:55:38.896640866+13:00","dependencies":[{"issue_id":"claude-agents-r9x","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:58.896843579+13:00","created_by":"daemon"}]}
{"id":"claude-agents-rg4","title":"Phase 3: Smart triggering - Module/file-based check filtering","description":"Implement intelligent change detection to only run tests/checks for affected modules.\n\nSCOPE:\n- Detect changed modules from git diff\n- Implement module-based pytest filtering (pytest -k)\n- Implement file-based mypy filtering\n- Implement smart scope for Black/Ruff (already staged-file aware)\n\nIMPLEMENTATION:\n1. Change detection script:\n   - Parse git diff --cached output\n   - Group by module (src/devloop/core, src/devloop/agents, etc.)\n   - Detect test file changes\n   - Return affected modules list\n\n2. pytest filtering:\n   - For each changed module, run: pytest -k module_name\n   - Also run any tests/ changes directly\n   - Fallback to full test suite if too many changes\n\n3. mypy filtering:\n   - Run type checking only on changed .py files\n   - Instead of: mypy devloop/core/ devloop/agents/\n   - Use: mypy {changed_files}\n\nTESTING:\n- Commit single file: should only test that module\n- Commit test file: should run that test\n- Commit multiple files in one module: should test only that module\n- Commit files in multiple modules: should test all affected modules\n- Commit \u003e30% of codebase: fall back to full test suite\n\nDEFINITION OF DONE:\n- Change detection script created\n- pytest filtering working correctly\n- mypy filtering working correctly\n- Time: Tests reduced 120s ‚Üí 30-45s for typical single-file commits\n\nBLOCKERS:\n- Depends on Phase 1\n\nExpected gain: 50% faster for typical commits (2-3 min ‚Üí 1-1.5 min)\n\nSee HOOK_OPTIMIZATION_ANALYSIS.md for full context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:20:43.55451359+13:00","updated_at":"2025-12-12T19:05:35.509202217+13:00","closed_at":"2025-12-12T19:05:35.509205709+13:00","dependencies":[{"issue_id":"claude-agents-rg4","depends_on_id":"claude-agents-rnu","type":"discovered-from","created_at":"2025-12-12T18:20:43.556151957+13:00","created_by":"daemon"}]}
{"id":"claude-agents-rnu","title":"Analyze and optimize hook duplication + parallelize with subagents","description":"ANALYSIS TASK: Review duplicate checks in hooks and plan optimization using Amp/Claude Code subagents.\n\nCURRENT DUPLICATIONS FOUND:\n\n1. Pre-commit hook checks (runs 5 checks sequentially):\n   - Black formatting\n   - Ruff import sorting\n   - Full Ruff linting\n   - mypy type checking\n   - pytest tests\n\n2. Pre-push hook checks (runs 4 checks again):\n   - Black formatting (CHECK)\n   - Ruff linting (CHECK)\n   - mypy type checking (CHECK)\n   - pytest tests (CHECK + retry logic)\n   - CI status check (informational)\n\n3. Post-task hook in Amp (runs some checks):\n   - verify-task-complete (git verification)\n   - verify-common-checks (partial overlap with above)\n   - extract-findings-to-beads\n\n4. Pre-commit-checks subscript (redundant with main pre-commit)\n   - Duplicates Black, Ruff, mypy, pytest\n\nOPTIMIZATION OPPORTUNITIES:\n\n1. Parallel Execution:\n   - Use Amp subagents to run linting, type-checking, tests in parallel\n   - Use Claude Code subagents for multi-file formatting\n\n2. Result Caching:\n   - Cache last check results to avoid re-running same checks\n   - Only re-run checks when relevant files change\n\n3. Smart Triggering:\n   - Only run tests for changed files/modules\n   - Only run type-checking on changed files\n   - Format only staged files\n\n4. Async Processing:\n   - Move CI checks to background (Amp subagent)\n   - Extract findings asynchronously in Amp\n\n5. Unified Verification:\n   - Create single verify-all script called by all hooks\n   - Allows reuse and consistency\n\nDELIVERABLES:\n- Analysis document with detailed findings\n- Parallelization strategy using subagents\n- Implementation plan\n- Prototype subagent configs for Amp/Claude Code","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:19:37.717043404+13:00","updated_at":"2025-12-12T18:21:05.66951806+13:00","closed_at":"2025-12-12T18:21:05.66952343+13:00"}
{"id":"claude-agents-rru","title":"Optional agents implementation (interactive config, dependencies, plugins)","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-04T09:53:01.046088032+13:00","updated_at":"2025-12-04T10:13:51.054970045+13:00","closed_at":"2025-12-04T10:13:51.054970045+13:00"}
{"id":"claude-agents-sf3","title":"Enable DevLoop auto-fix for Black formatting violations","description":"DevLoop formatter agent currently runs in report-only mode. Enable autoFix so it automatically formats code with Black on file save, preventing formatting CI failures.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T10:39:34.838954995+13:00","updated_at":"2025-12-05T14:41:27.923346494+13:00","closed_at":"2025-12-05T14:41:27.923346494+13:00"}
{"id":"claude-agents-sut","title":"Integrate DevLoop findings with Beads issue tracking","description":"Map critical DevLoop findings to Beads issues so developers see them in 'bd ready'. High-priority findings should appear alongside regular tasks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T10:39:38.419797756+13:00","updated_at":"2025-12-05T14:41:40.139825817+13:00","closed_at":"2025-12-05T14:41:40.139825817+13:00"}
{"id":"claude-agents-t09x","title":"Fix Black formatting failure in test_claude_hooks.py","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-18T14:25:33.85210337+13:00","updated_at":"2025-12-18T14:44:40.483845752+13:00","closed_at":"2025-12-18T14:44:40.483845752+13:00"}
{"id":"claude-agents-ts0","title":"Agent audit logger loads entire file into memory on every query","description":"AgentAuditLogger.query_recent() and related methods load entire audit log file with readlines() into memory (line 380). No pagination or streaming.\n\nImpact: Large audit logs (months of data) cause memory spikes when querying\nExample: query_recent(100) reads entire file then slices the last 100 lines\n\nSuggested fix: Implement streaming reads with pagination using file seek/tail, or use a database backend for audit logs","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-09T15:52:16.812583946+13:00","updated_at":"2025-12-09T15:58:23.4645121+13:00","closed_at":"2025-12-09T15:58:23.4645121+13:00"}
{"id":"claude-agents-tsz","title":"Update TestRunnerConfig with new fields","description":"Extend TestRunnerConfig class with:\n- testPaths: List[str] - explicit test directories\n- excludePaths: List[str] - patterns to exclude\n- projectContext config:\n  - autoDetect: bool\n  - devloopDevelopment: bool\n  - respectSitePackages: bool\n\nUpdate configuration schema validation.\nAdd sensible defaults for user projects.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:02:44.092360753+13:00","updated_at":"2025-12-14T16:14:05.285583117+13:00","closed_at":"2025-12-14T16:14:05.285583117+13:00","dependencies":[{"issue_id":"claude-agents-tsz","depends_on_id":"claude-agents-klo","type":"parent-child","created_at":"2025-12-14T16:02:44.101384806+13:00","created_by":"daemon"},{"issue_id":"claude-agents-tsz","depends_on_id":"claude-agents-3f6","type":"blocks","created_at":"2025-12-14T16:02:44.107615615+13:00","created_by":"daemon"}]}
{"id":"claude-agents-u47h","title":"Fix test_simple_command_overhead flaky test","description":"The test_simple_command_overhead in test_sandbox_benchmarks.py is failing intermittently.\n\n## Issue\nTest measures overhead for simple echo command in sandboxed vs non-sandboxed execution.\nCurrent threshold: \u003c25ms absolute overhead\n\n## Problem\nSimilar to other performance tests - system variance causes intermittent failures.\n\n## Solution\nApply same improvements:\n1. Add warmup iterations\n2. Use median instead of average\n3. Increase tolerance slightly if needed\n4. Mark as @pytest.mark.flaky\n\nFile: tests/performance/test_sandbox_benchmarks.py:42","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:07:51.398563804+13:00","updated_at":"2025-12-18T09:08:51.514696603+13:00","closed_at":"2025-12-18T09:08:51.514696603+13:00"}
{"id":"claude-agents-umo","title":"Publish to production PyPI","description":"Create production PyPI account/token, publish devloop package, verify on https://pypi.org/project/devloop/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T13:44:25.16171381+13:00","updated_at":"2025-12-01T21:54:58.406151749+13:00","closed_at":"2025-12-01T21:54:58.406151749+13:00","dependencies":[{"issue_id":"claude-agents-umo","depends_on_id":"claude-agents-3ts","type":"parent-child","created_at":"2025-11-30T13:44:40.419745374+13:00","created_by":"daemon"}]}
{"id":"claude-agents-v3u","title":"Implement release workflow abstraction for provider system","description":"Subtask of claude-agents-ewy\n\nCreate a generic Release agent/module that abstracts away CI/registry specifics:\n\n1. Create src/devloop/release/release_manager.py\n   - ReleaseManager class that uses providers\n   - Methods: pre_release_checks(), publish(), tag_release()\n   - Works with any CI provider and any registry provider\n\n2. Update AGENTS.md release process to use provider abstraction\n   - Remove GitHub-specific instructions\n   - Add generic flow that works with any CI/registry\n\n3. Update scripts/bump-version.py if needed\n   - Ensure it's provider-agnostic\n\n4. Documentation\n   - Update PROVIDER_SYSTEM.md with release workflow example\n   - Add example for PyPI + GitHub Actions\n   - Add example for PyPI + GitLab CI\n\nTests:\n- Mock providers for release workflow\n- Test pre-release checks with different providers\n- Test publishing with different registries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T22:28:42.08156416+13:00","updated_at":"2025-12-10T22:37:26.346795136+13:00","closed_at":"2025-12-10T22:37:26.346795136+13:00","dependencies":[{"issue_id":"claude-agents-v3u","depends_on_id":"claude-agents-ewy","type":"parent-child","created_at":"2025-12-10T22:28:42.082793393+13:00","created_by":"daemon"}]}
{"id":"claude-agents-vdc","title":"Fix .devloop directory write permissions","description":"Multiple agents failing with 'Permission denied: .devloop' errors preventing telemetry logging and event store writes. Need to ensure .devloop and .devloop/context directories have proper write permissions for all agents.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:08:17.507911142+13:00","updated_at":"2025-12-15T21:21:51.730920846+13:00","closed_at":"2025-12-15T21:21:51.730920846+13:00"}
{"id":"claude-agents-w86","title":"Restore missing documentation files and fix README broken links","description":"README.md references ~20 documentation files that were deleted in commit 1e06145. Need to:\n\n1. Restore deleted docs/ files from git history (commit aaa2ae9):\n   - UPGRADE_GUIDE.md\n   - AGENT_DEVELOPMENT.md\n   - AGENT_API_REFERENCE.md\n   - AGENT_EXAMPLES.md\n   - AGENT_TROUBLESHOOTING.md\n   - MARKETPLACE_GUIDE.md\n   - And others\n\n2. Verify all links in README.md point to existing files\n\n3. Update any outdated content from AGENTS.md that should be in docs/\n\nBroken links in README:\n- docs/UPGRADE_GUIDE.md (line 97, 425, 1478)\n- docs/PYODIDE_INSTALLATION.md (line 249)\n- docs/cli-commands.md (line 386)\n- docs/architecture.md (line 457)\n- docs/agents.md (line 498)\n- docs/MARKETPLACE_API.md (line 619)\n- docs/PROVIDER_SYSTEM.md (line 924)\n- docs/TOKEN_SECURITY.md (line 1000)\n- docs/configuration.md (line 1002)\n- docs/testing.md (line 1214)\n- docs/development.md (line 1258)\n- docs/getting-started.md (line 1279)\n- docs/AGENT_DEVELOPMENT.md (line 1285)\n- docs/AGENT_API_REFERENCE.md (line 1286)\n- docs/AGENT_EXAMPLES.md (line 1287)\n- docs/AGENT_TROUBLESHOOTING.md (line 1288)\n- docs/MARKETPLACE_GUIDE.md (line 1291)\n- docs/troubleshooting.md (line 1374)\n- docs/METRICS_AND_MONITORING.md (line 1480)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T18:50:04.440657435+13:00","updated_at":"2025-12-13T19:03:52.88060272+13:00","closed_at":"2025-12-13T19:03:52.88060272+13:00"}
{"id":"claude-agents-wus","title":"Agent Marketplace: Registry API and metadata schema","description":"Design and implement central registry API for agent discovery. Define agent metadata schema (name, version, description, dependencies, ratings). Support JSON-based registry format. Create CLI commands for registry interaction.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T10:48:20.477433826+13:00","updated_at":"2025-12-13T10:53:17.023233686+13:00","closed_at":"2025-12-13T10:53:17.023233686+13:00","dependencies":[{"issue_id":"claude-agents-wus","depends_on_id":"claude-agents-ed0","type":"parent-child","created_at":"2025-12-13T10:48:20.489167905+13:00","created_by":"daemon"}]}
{"id":"claude-agents-wv9","title":"Implement audit logging for agent actions","description":"Create immutable audit log of: files modified, fixes applied, commands executed, timestamps. Enable post-incident investigation. Store in append-only format (e.g., JSONL). Include before/after diffs for file modifications.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:18:58.309824819+13:00","updated_at":"2025-12-09T14:08:20.996618305+13:00","closed_at":"2025-12-09T14:08:20.996618305+13:00"}
{"id":"claude-agents-y2z","title":"Phase 3: Beads auto-issue creation with thread references","description":"Implementation:\n- Create BeadsIntegration class\n- Auto-create beads issues from detected patterns\n- Link with discovered-from to parent issue\n- Include thread references in issue description\n\nFormat:\nIssue: 'Pattern: {pattern_name}'\nDescription:\n  Pattern detected in threads: T-xxx, T-yyy, T-zzz\n  Evidence: {detailed analysis}\n  Severity: {level}\n  Recommendation: {action}\nPriority: based on severity/frequency\nDependencies: discovered-from:claude-agents-zjf\n\nFiles:\n- src/devloop/integrations/beads_integration.py (new)\n- Integrate with pattern detector\n\nRelated docs:\n- See SELF_IMPROVEMENT_AGENT_ANALYSIS.md","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T10:52:59.253874276+13:00","updated_at":"2025-12-13T08:32:57.329525895+13:00","closed_at":"2025-12-13T08:32:57.329525895+13:00","dependencies":[{"issue_id":"claude-agents-y2z","depends_on_id":"claude-agents-zjf","type":"discovered-from","created_at":"2025-12-12T10:52:59.255051557+13:00","created_by":"daemon"}]}
{"id":"claude-agents-y5s","title":"IDE Integration: VSCode Extension (v0.4.0)","description":"Implemented core VSCode extension with LSP server for real-time agent feedback.\n\n**Completed:**\n- LSP server with Finding ‚Üí Diagnostic mapping\n- Real-time event bus integration\n- Code action provider for quick fixes\n- VSCode extension with TypeScript client\n- Status bar integration\n- Configuration system\n- Comprehensive documentation\n\n**Remaining for Full Implementation:**\n- Agent dashboard webview\n- Feedback submission UI\n- Multi-file fix support\n- Performance metrics display\n- Advanced features (code lens, inline annotations)\n\nCurrent implementation provides core IDE integration functionality. Additional features marked for future releases (v0.2.0+).","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-11-30T12:00:27.758765582+13:00","updated_at":"2025-12-13T09:49:57.497777696+13:00"}
{"id":"claude-agents-z8y","title":"Implement test coverage reporting","description":"The test suite currently lacks code coverage measurement. This makes it difficult to assess the effectiveness of the 935+ tests. Add the  package and configure it to generate a coverage report as part of the test suite run. The goal should be to establish a baseline and then progressively increase coverage to over 90%.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:08:59.792963387+13:00","updated_at":"2025-12-15T21:33:02.511064629+13:00","closed_at":"2025-12-15T21:33:02.511064629+13:00"}
{"id":"claude-agents-z9w","title":"Agent-scoped configuration files with devloop init merge","description":"Architecture proposal: Each agent declares its needs in .agents/agents/{name}/rules.yaml\n\nDesign:\n1. Agent rules files: YAML per agent (.agents/agents/formatter/rules.yaml, etc.)\n   Structure:\n     agent: formatter\n     preflight:\n       - poetry run black src/ tests/\n       - poetry run black --check src/\n     dependencies:\n       - requires: black\n         version: '\u003e=24.0'\n     devloop_hints:\n       - title: Cascading failures\n         description: 'Format entire codebase at start of session'\n         workaround: 'poetry run black src/ tests/'\n\n2. Two-step intelligent merge (to prevent duplication):\n   Step 1: Generate aggregate template from fragments\n     - Collect all .agents/agents/*/rules.yaml\n     - Build unified AGENTS.md-compatible template\n     - Template becomes review artifact\n   \n   Step 2: Coding agent merges template + existing AGENTS.md\n     - Read existing AGENTS.md\n     - Read generated template\n     - Intelligently merge:\n       * Detect and skip duplicate sections\n       * Preserve existing customizations\n       * Merge related content by topic\n       * Maintain semantic structure\n     - Output merged AGENTS.md\n   \n   This requires AI judgment, not string matching\n\n3. Integration in devloop init:\n   - Step 1: devloop init --generate-template (produces template artifact for review)\n   - Step 2: devloop init --merge (uses coding agent to intelligently apply)\n   - Or single command that does both\n\n4. Scope: All agents (built-in and custom)\n   - Establish pattern for custom agent implementations\n\nBenefits:\n- Rules live near code\n- Smart deduplication prevents cruft\n- Preserves user customizations in AGENTS.md\n- AI judges semantic equivalence, not text matching\n- Works for both fresh installs and existing repos\n\nBlocks: None yet\nRelated to: claude-agents-1zm, claude-agents-6u4, claude-agents-mo4","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-12-09T16:07:34.824082368+13:00","updated_at":"2025-12-14T11:38:03.85099301+13:00","closed_at":"2025-12-14T11:38:03.85099301+13:00"}
{"id":"claude-agents-zf2","title":"Add git hook to auto-close Beads issues on commit","description":"Problem: AI agents complete work but forget to update Beads status across sessions. Manual discipline doesn't persist beyond a single session.\n\nSolution: Automate Beads task closure via post-commit hook.\n\nDesign:\n1. Create .git/hooks/post-commit that runs after successful commits\n2. Hook analyzes commit message for issue references (e.g., 'fixes claude-agents-w86', 'closes #123')\n3. Auto-closes referenced issues with commit message as closure reason\n4. Optionally: analyze diff for heuristic issue detection if no explicit reference\n\nImplementation:\n- Update .agents/hooks/post-commit or create new hook\n- Parse commit message for patterns: 'fixes|closes|resolves claude-agents-XXX'\n- Run: bd close \u003cissue-id\u003e --reason \"Completed in commit \u003csha\u003e: \u003cmessage\u003e\"\n- Fallback: suggest issues to close if none found\n\nBenefits:\n‚úì AI agents automatically track task completion across sessions\n‚úì No manual bd commands needed after git commit\n‚úì Full traceability (commit SHA linked to closure)\n‚úì Works for human developers too\n‚úì Prevents forgotten status updates\n\nRelated to: AGENTS.md development discipline section, Beads workflow automation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T19:05:38.778321985+13:00","updated_at":"2025-12-13T21:23:23.476457437+13:00","closed_at":"2025-12-13T21:23:23.476457437+13:00"}
{"id":"claude-agents-zjf","title":"Self-Improvement Agent: Monitor user patterns to identify devloop UX gaps","description":"\n\n## PROGRESS UPDATE (Dec 12, 2025)\n\n### Phase 0: COMPLETE ‚úÖ\n- ActionLogger: CLI command logging with Amp thread context\n  * Stores in .devloop/cli-actions.jsonl\n  * Captures AMP_THREAD_ID, AMP_THREAD_URL, exit codes, duration\n  * Integrated into src/devloop/cli/main.py wrapper\n  \n- AmpThreadMapper: Thread context to action mapping\n  * Stores in .devloop/amp-thread-log.jsonl  \n  * Built-in pattern detection (user_manual_fix_after_agent, command_rerun, silent_completion)\n  * Query interface for patterns by thread/type\n  \n- Documentation: Amp thread integration section in AGENTS.md\n  * Usage examples, privacy, cross-thread pattern detection explanation\n\n### Phase 1: COMPLETE ‚úÖ\n- PatternAnalyzer: Extensible pattern detection engine\n  * 5 built-in patterns with confidence scoring\n  * Time-window analysis, thread context aware\n  * Custom pattern registration support\n  \n- PatternDetector: Persistent pattern storage and query\n  * Stores results in .devloop/patterns.jsonl\n  * Query interface: recent, by-type, by-thread, high-confidence\n  * Full type hints and test coverage\n\n### Phase 2: IN PROGRESS üöÄ\n- Create /agent-insights CLI command\n  * Display patterns with thread references\n  * Support filtering and formatting\n  * Next: implement in src/devloop/cli/commands/insights.py\n\n### Key Metrics\n- 4 new files: action_logger.py, amp_thread_mapper.py, pattern_analyzer.py, pattern_detector.py\n- All code passes: linting, type checking, 374/374 tests\n- Foundation for Beads auto-issue creation and cross-thread pattern detection\n","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2025-12-11T22:00:04.366877752+13:00","updated_at":"2025-12-12T13:03:10.968259612+13:00"}
