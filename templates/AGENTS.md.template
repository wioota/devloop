# AI Agent Development Workflow

**CRITICAL INSTRUCTIONS FOR AI CODING AGENTS**

This project uses [bd (beads)](https://github.com/wioota/devloop) for issue tracking.

---

## ‚õîÔ∏è RULE #1: NO MARKDOWN FILES

**ABSOLUTE RULE - NO EXCEPTIONS**

### **FORBIDDEN:**
‚ùå **NEVER** create `*_PLAN.md`, `*_ANALYSIS.md`, `*_SUMMARY.md`, `*_DESIGN.md`, or ANY ad-hoc markdown files

### **ALLOWED (ONLY 6):**
‚úÖ `README.md` | `CHANGELOG.md` | `AGENTS.md` | `CODING_RULES.md` | `LICENSE` | `.github/copilot-instructions.md`

### **WHAT TO USE INSTEAD:**
```bash
# Use Beads for ALL planning, analysis, tracking
bd create "Task title" -t task|feature|epic -p 0-4 -d "Details..."
```

---

## ‚õîÔ∏è RULE #2: BEADS TASK MANAGEMENT

**Beads (`bd`) is the ONLY task management system.**

```bash
# Start session
bd ready --json                           # See ready work
bd update <id> --status in_progress       # Claim task

# During work
bd create "Bug found" -p 1 --deps discovered-from:<parent-id>

# End session (MANDATORY)
bd close <id> --reason "Done"
git add .beads/issues.jsonl && git commit -m "..." && git push origin main
```

**Issue types:** `bug` | `feature` | `task` | `epic` | `chore`
**Priorities:** `0`=critical, `1`=high, `2`=medium, `3`=low, `4`=backlog

---

## ‚õîÔ∏è RULE #3: COMMIT & PUSH AFTER EVERY TASK

**MANDATORY:** Every completed task ends with:
```bash
git add . && git commit -m "..." && git push origin main
```

Verify: `.agents/verify-task-complete`

---

## ‚õîÔ∏è RULE #4: PRE-FLIGHT CHECKLIST

**Run at session start to prevent formatting debt:**

```bash
poetry run black src/ tests/              # Format
poetry run ruff check src/ tests/ --fix   # Lint
poetry run mypy src/                      # Type check
poetry run pytest                         # Test (if time permits)
.agents/verify-task-complete              # Verify
```

---

## ‚õîÔ∏è RULE #5: CI VERIFICATION (AUTOMATIC)

Pre-push hook automatically checks CI status. If blocked:
```bash
gh run view <run-id> --log-failed  # Check failure
# Fix issues, commit, push again
```

---

## üîß ESSENTIAL COMMANDS

**Core workflow:**
```bash
devloop init /path/to/project    # Initialize
devloop watch .                  # Start watching
devloop verify-work              # Verify quality
```

**Release management:**
```bash
devloop release check <version>   # Check readiness
devloop release publish <version> # Publish release
```

**Beads:**
```bash
bd ready --json                   # Show ready work
bd create "Task" -t task -p 1     # Create issue
bd update <id> --status in_progress  # Claim
bd close <id> --reason "Done"     # Complete
```

---

## ‚úÖ AGENT CHECKLIST

**Before task:** Pre-flight ‚Üí `bd ready` ‚Üí Claim issue
**During task:** Use `bd create` for discovered work | **NEVER** create markdown files
**After task:** Close issue ‚Üí Commit `.beads/` ‚Üí Push ‚Üí Verify

---

## üö® ZERO TOLERANCE

‚ùå Creating `*_PLAN.md`, `*_ANALYSIS.md`, or any ad-hoc markdown files
‚ùå Leaving issues without status updates
‚ùå Forgetting to push `.beads/issues.jsonl`
‚ùå Manually tagging releases without `devloop release`
‚ùå Committing API keys or tokens

---

## üìö FULL DOCUMENTATION

This is a minimal reference. For complete details:

- **AGENTS.md** (full) - Complete agent workflow and rules
- **CLI_REFERENCE.md** - All devloop and bd commands
- **RELEASE_PROCESS.md** - Release workflow and troubleshooting
- **ARCHITECTURE.md** - System design and agent categories
- **CODING_RULES.md** - Development standards
- **docs/TOKEN_SECURITY.md** - Token security guide

**When in doubt: Ask before creating files | Use Beads for tracking | Run verification commands**
